/**
 *  DIM-SDK (v0.2.2)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 21, 2023
 * @copyright (c) 2023 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(5(a){"3r"!==3s a.z&&(a.z={})})(D);(5(a){7 m=a.A.H,l=5(g,f){S.B(4);4.2g=g;4.2h=f};m(l,S,8,8);l.9.N=5(){6 4.2g};l.9.K=5(){6 4.2h};a.12=l})(D);(5(a){7 m=a.A.H,l=a.L.1Q,g=5(f){l.B(4,f)};m(g,l,8,8);a.L.2i=g})(D);(5(a){7 m=a.A.H,l=a.A.3t,g=a.C.1R,f=a.C.3u,e=a.L.1Q,b=5(){l.B(4);j(1===X.I){7 d=i e(X[0]);7 h=8;7 n=0}13 2===X.I?(d=i e(b.2j),h=X[0],n=X[1]):3===X.I&&(d=i e(X[0]),h=X[1],n=X[2]);4.J=d;4.1p=h;4.1q=n};m(b,l,[a.L.3v],{O:5(d){6 4===d?!0:d?4.J.O(d):!1},3w:5(){6 c.B(4)},14:5(){6 c.B(4)},1f:5(d){4.J.1f(d)},1g:5(){6 4.J.1g()},M:5(){6 4.J.M()},V:5(){6 4.J.V()},Q:5(){6 4.J.Q()},15:5(d){6 4.J.15(d)},1S:5(){6 4.J.1S()},2k:5(){6 4.J.2k()},1r:5(d,h){6 4.J.1r(d,h)},1s:5(d){6 4.J.1s(d)},1T:5(d){6 4.J.1T(d)},1U:5(d){6 4.J.1U(d)},2l:5(d){6 4.J.2l(d)},2m:5(d){6 4.J.2m(d)},3x:5(d){7 h=4.1g();d=i e(d);d.1f(h);4.J=d},2n:5(){j(8===4.1p){7 d=4.15("*");d&&(4.1p=d.2o("2p"))}6 4.1p},2q:5(){j(0===4.1q){7 d=4.15("*");d&&(4.1q=d.2o("2r"))}6 4.1q}});7 c=5(){7 d=S.3y(4).3z.2s,h=4.M(),n=h.3A().V();6"<"+d+\' 2t="\'+h.14()+\'" 3B="\'+n+\'" 2p="\'+4.2n()+\'" 2r=\'+4.2q()+" />"};b.2j=g.Y("2u",f.3C,8);b.3D=g.Y("3E",f.3F,8);a.L.2v=b})(D);(5(a){7 m=a.A.H,l=a.L.2w,g=5(f){l.B(4,f)};m(g,l,8,{3G:5(){6 4.1V()}});a.L.2x=g})(D);(5(a){7 m=a.A.16,l=m(8,8);l.9.Z=5(f,e){E F("G");};7 g=m(8,8);g.9.1W=5(f){E F("G");};g.9.1X=5(f,e){E F("G");};m=m(8,8);m.9.T=5(f){E F("G");};m.9.17=5(f){E F("G");};m.9.18=5(f,e){E F("G");};l.2y=g;l.19=m;a.z.1t=l})(D);(5(a){7 m=a.A.H,l=a.12,g=5(e,b){l.B(4,e,b)};m(g,l,[a.z.1t],8);g.9.Z=5(e,b){b="1h (A: "+e.V()+") W 1u 1v!";6 4.R(b,e.11())};g.9.R=5(e,b){e=i a.o.2z(e);b&&e.2A(b);6[e]};7 f=5(e,b){l.B(4,e,b)};m(f,g,8,{Z:5(e,b){b="1a (2s: "+e.1w()+") W 1u 1v!";6 4.R(b,e.11())}});a.z.1Y=g;a.z.1x=f})(D);(5(a){7 m=a.A.H,l=a.C.2B,g=a.C.1a,f=a.12,e=5(b,c){f.B(4,b,c)};m(e,f,[a.z.1t.2y],{1W:5(b){7 c=4.N(),d=4.K();6 l.2C.O(b)?i a.z.2D(c,d):l.2E.O(b)?i a.z.1x(c,d):8},1X:5(b,c){b=4.N();7 d=4.K();6 c===g.2F?i a.z.1Z(b,d):c===g.2G?i a.z.2H(b,d):8}});a.z.2I=e})(D);(5(a){7 m=a.A.16,l=a.A.H,g=a.C.1a,f=a.C.2J,e=a.12,b=5(c,d,h){e.B(4,c,d);4.20=h;4.21={};4.22={}};l(b,e,[a.z.1t.19],8);b.9.T=5(c){7 d=c.V();j(m.23(c,g)){7 h=c.1w();j((h=4.18(d,h))||m.23(c,f)&&(h=4.18(d,"1i")))6 h}6 4.17(d)};b.9.17=5(c){7 d=4.21[c];d||(d=4.20.1W(c))&&(4.21[c]=d);6 d};b.9.18=5(c,d){7 h=4.22[d];h||(h=4.20.1X(c,d))&&(4.22[d]=h);6 h};a.z.2K=b})(D);(5(a){7 m=a.A.H,l=a.C.3H,g=a.z.1x,f=5(e,b){g.B(4,e,b)};m(f,g,8,{Z:5(e,b){j(b=e.M()){j(e=e.Q())6 b=4.N().1y(e,b)?"1j 2L: "+b:"1j W 3I: "+b,4.R(b,8);b=(e=4.N().Q(b))?[l.2M(b,e)]:4.R("2N, 2O W 24 U 1R: "+b,8);6 b}6 4.R("1j 25 26.",8)}});a.z.1Z=f})(D);(5(a){7 m=a.A.H,l=a.C.3J,g=a.z.1Z,f=5(e,b){g.B(4,e,b)};m(f,g,8,{Z:5(e,b){j(b=e.M()){7 c=e.15();j(!c)6(c=e.3K("3L"))||(c="*"),e=c,c=4.N(),(e=c.15(b,e))?(c=c.Q(b),b=[l.2M(b,c,e)]):b=4.R("2N, 2P W 24 U 1R: "+b,8),b;j(b.O(c.M())){e=e.Q();7 d=4.N();e&&!d.1y(e,b)?b=4.R("1j W 2Q: "+b,8):(b=d.27(c)?"28 2L: "+b:"28 W 2Q: "+b,b=4.R(b,8));6 b}}6 4.R("28 25 26.",8)}});a.z.2H=f})(D);(5(a){7 m=a.A.H,l=a.C.3M,g=a.z.1Y,f=5(e,b){g.B(4,e,b)};m(f,g,8,{Z:5(e,b){e=e.3N();j(!e)6 8;b=4.K();U(7 c=[],d,h=0;h<e.I;++h)d=(d=b.1k(e[h]))?1===d.I?l.Y(d[0]):l.Y(d):l.Y([]),c.1b(d);6 c}});a.z.2D=f})(D);(5(a){7 m=a.A.H,l=a.C.3O,g=a.z.1x,f=5(e,b){g.B(4,e,b)};m(f,g,8,{Z:5(e,b){e=e.3P();j(!e)6 8;U(7 c=4.K(),d=[],h,n=0;n<e.I;++n)h=(h=c.1l(e[n],b))?1===h.I?h[0]:l.Y(h):l.Y([]),d.1b(h);6 d}});a.z.3Q=f})(D);(5(a){7 m=a.A.16,l=a.A.H,g=a.z.1Y;m=m(8,8);m.9.29=5(e,b,c,d){E F("G");};7 f=5(e,b){g.B(4,e,b)};l(f,g,[m],{Z:5(e,b){7 c=e.2R();j(c=4.2S(c,e,b))6 c;c=e.2T();c=4.2U(c,e,b);j(!c)6 8;7 d=b.3R(),h=b.1c();6 c.29(d,h,e,b)},2S:5(e,b,c){6 4.R("2V 1h (2W: "+e+") W 1u 1v!",b.11())},2U:5(e,b,c){6 4},29:5(e,b,c,d){b=c.2R();d=c.2T();6 4.R("2V 1h (2W: "+b+", 3S: "+d+", 3T: "+e+") W 1u 1v!",c.11())}});a.z.3U=m;a.z.3V=f})(D);(5(a){7 m=a.A.16;m=m(8,8);m.3W="3X 3Y 3Z 40 41 o L 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 4g 4h 4i 2t 4j 2O 4k 2P 4l 4m 1i 4n 4o 4p 4q 4r 4s 4t 4u 4v 4w 4x 4y 4z 4A 4B 2u 4C 4D 4E 4F 4G 4H 4I 4J 4K 2X 4L 4M 4N 25 4O 4P 4Q 4R A 4S 4T 4U 4V 4W 4X 4Y 4Z 50 51 52 53 54 55 24 56 57 58 59 5a 5b 5c 5d 5e 5f 5g 5h 5i 2Y 5j 5k 5l 5m 5n 5o 5p 5q 5r 5s".5t(" ");m.9.5u=5(l){E F("G");};m.9.M=5(l){E F("G");};m.9.5v=5(l){E F("G");};a.5w=m})(D);(5(a){7 m=a.A.H,l=a.C.5x,g=a.C.1j,f=a.L.1Q,e=a.L.2w,b=a.L.2i,c=a.L.2v,d=a.L.2x,h=a.5y,n=5(){h.B(4);4.1z={};4.1A={}};m(n,h,8,{5z:5(k){7 p=k.M();j(!p)6!1;j(p.1B()){7 q=4.5A(p);j(q)p=4.Q(q);13 j(l.2Z.O(p.V()))p=4.Q(p);13 6!1}13 p=4.Q(p);6 p&&k.1r(p.30())},31:5(k,p){p=4.Q(p);k=4.Q(k);6 g.5B(k.30(),p)},5C:5(k,p){j(l.2Z.O(p.V()))6 4.31(k,p);E F("5D 5E 5F 5G");},2a:5(k){7 p=4.32();j(!p||0===p.I)E F("2Y 5H 5I W 5J 5K");j(k.1m())6 p[0];7 q;j(k.1B()){k=4.1V(k);j(!k||0===k.I)6 8;7 r;U(q=0;q<p.I;++q){7 t=p[q];7 u=t.M();U(r=0;r<k.I;++r){7 v=k[r];j(v.O(u))6 t}}}13 U(q=0;q<p.I;++q)j(t=p[q],u=t.M(),k.O(u))6 t;6 8},5L:5(k){7 p=4.1z[k.14()];!p&&(p=4.33(k))&&(k=p,k.1g()||k.1f(4),4.1z[k.M().14()]=k);6 p},11:5(k){7 p=4.1A[k.14()];!p&&(p=4.34(k))&&(k=p,k.1g()||k.1f(4),4.1A[k.M().14()]=k);6 p}});n.9.5M=5(){7 k=a.L.35(4.1z,0);k=a.L.35(4.1A,k);6 k>>1};n.9.1y=5(k,p){E F("G");};n.9.27=5(k){E F("G");};n.9.5N=5(k,p){E F("G");};n.9.33=5(k){j(k.1m())6 i f(k);7 p=k.V();6 l.5O.O(p)?i c(k):l.5P.O(p)?i b(k):i f(k)};n.9.34=5(k){j(k.1m())6 i e(k);7 p=k.V();6 l.5Q.O(p)?i d(k):i e(k)};n.9.32=5(){E F("G");};a.5R=n})(D);(5(a){7 m=a.A.16,l=a.A.H,g=a.C.1a,f=a.C.36,e=a.12,b=5(c,d){e.B(4,c,d)};l(b,e,[a.5S],{1n:5(c){7 d=c.11();6 d?d.1m()?d:m.23(c,g)?8:d:8},1C:5(c){7 d=4.K();c.1D()||c.1E(d);7 h=c.1c(),n=c.1F(),k=d.1n(c.2b());d=k?d.1d(h,k,!0):d.1d(h,n,!0);j(n.1B()){h=4.N().11(n);j(!h)6 8;h=h.1V();j(!h||0===h.I)6 8;d=c.1s(d,h)}13 d=c.1s(d,8);j(!d)6 8;k&&!n.O(k)&&d.37().2A(k);d.37().5T(c.2b().V());6 d},1G:5(c){j(!c.1D()){7 d=4.K();c.1E(d)}6 c.1T()},1H:5(c){c=c.38();c=a.1I.39.3a(c);6 a.1I.3b.3a(c)},1J:5(c){c=a.1I.3b.3c(c);c=a.1I.39.3c(c);6 f.5U(c)},1K:5(c){7 d=4.N(),h=c.1c(),n=c.Q();n&&d.1y(n,h);(h=c.1S())&&d.27(h);c.1D()||(d=4.K(),c.1E(d));6 c.1r()},1L:5(c){7 d=4.N(),h=c.1F();d=d.2a(h);j(!(d&&(h.1B()?c.5V(d.M()):c)))E i 5W("2X 26: "+c.38());c.1D()||(h=4.K(),c.1E(h));6 c.1U()}});a.5X=b})(D);(5(a){7 m=a.A.H,l=a.C.3d,g=a.C.3e,f=a.12,e=5(b,c){f.B(4,b,c);4.1M=4.3f()};m(e,f,[a.5Y],{3f:5(){7 b=4.N(),c=4.K(),d=4.3g();6 i a.z.2K(b,c,d)},3g:5(){7 b=4.N(),c=4.K();6 i a.z.2I(b,c)},2c:5(b){7 c=4.K();b=c.1J(b);j(!b)6 8;b=c.1k(b);j(!b)6 8;U(7 d=[],h,n=0;n<b.I;++n)(h=c.1H(b[n]))&&d.1b(h);6 d},1k:5(b){7 c=4.K(),d=c.1K(b);j(!d)6 8;b=c.1N(d,b);j(!b)6 8;d=[];U(7 h,n=0;n<b.I;++n)(h=c.1G(b[n]))&&d.1b(h);6 d},1N:5(b,c){7 d=4.K();b=d.1L(b);j(!b)6 8;c=d.1O(b,c);j(!c)6 8;b=[];U(7 h,n=0;n<c.I;++n)(h=d.1C(c[n]))&&b.1b(h);6 b},1O:5(b,c){c=4.K().1l(b.2b(),c);j(!c)6 8;7 d=b.1c();b=b.1F();b=4.N().2a(b).M();U(7 h=[],n,k,p=0;p<c.I;++p)j(n=c[p])k=l.Y(b,d,8),(n=g.Y(k,n))&&h.1b(n);6 h},1l:5(b,c){7 d=4.T(b);d||(d=4.17(0));6 d.Z(b,c)}});e.9.T=5(b){6 4.1M.T(b)};e.9.17=5(b){6 4.1M.17(b)};e.9.18=5(b,c){6 4.1M.18(b,c)};a.5Z=e})(D);(5(a){7 m=a.A.16;m=m(8,8);m.9.1d=5(l,g,f){E F("G");};m.9.1o=5(l,g,f){E F("G");};a.60=m})(D);(5(a){7 m=a.A.H,l=a.61,g=5(){l.B(4)};m(g,l,8,8);g.9.2d=5(){E F("G");};g.9.10=5(){E F("G");};g.9.T=5(){E F("G");};g.9.1d=5(f,e,b){6 4.2d().1d(f,e,b)};g.9.1o=5(f,e,b){6 4.2d().1o(f,e,b)};g.9.1n=5(f){6 4.10().1n(f)};g.9.1C=5(f){6 4.10().1C(f)};g.9.1G=5(f){6 4.10().1G(f)};g.9.1H=5(f){6 4.10().1H(f)};g.9.1J=5(f){6 4.10().1J(f)};g.9.1K=5(f){6 4.10().1K(f)};g.9.1L=5(f){6 4.10().1L(f)};g.9.2c=5(f){6 4.T().2c(f)};g.9.1k=5(f){6 4.T().1k(f)};g.9.1N=5(f,e){6 4.T().1N(f,e)};g.9.1O=5(f,e){6 4.T().1O(f,e)};g.9.1l=5(f,e){6 4.T().1l(f,e)};g.9.3h=5(f,e,b,c){6 f?l.9.3h.B(4,f,e,b,c):4.1d(e,b,!1)};g.9.3i=5(f,e,b){f=l.9.3i.B(4,f,e,b);j(!l.9.1m(b)){7 c=4.1n(f);c?4.1o(b.1c(),c,e):4.1o(b.1c(),b.1F(),e)}6 f};a.62=g})(D);(5(a){7 m=a.A.H,l=a.C.1h,g=a.C.1a,f=a.o.P.63,e=a.o.P.64,b=a.o.P.65,c=5(n){S.B(4);4.1P=n};m(c,S,[l.19],8);c.9.2e=5(n){6 i 4.1P(n)};7 d=5(n){S.B(4);4.1P=n};m(d,S,[g.19],8);d.9.1e=5(n){6 i 4.1P(n)};7 h=5(){S.B(4)};m(h,S,[l.19,g.19],8);h.9.2e=5(n){7 k=a.o.P.3j.3k,p=k.1w(n);p=k.2f(p);p||(n.1i&&(p=k.2f("1i")),p||(p=4));6 p.1e(n)};h.9.1e=5(n){6 i f(n)};l=5(){S.B(4)};m(l,h,8,8);l.9.1e=5(n){6 i e(n)};g=5(){S.B(4)};m(g,l,8,8);g.9.2e=5(n){7 k=a.o.P.3j.3k,p=k.1w(n);(k=k.2f(p))||(k=4);6 k.1e(n)};g.9.1e=5(n){6 i b(n)};a.3l=c;a.3m=d;a.3n=h;a.3o=l;a.3p=g})(D);(5(a){7 m=a.C.3d,l=a.C.3e,g=a.C.66,f=a.C.36,e=a.C.2B,b=a.C.1h,c=a.C.1a,d=a.C.2J,h=a.o.67,n=a.o.68,k=a.o.69,p=a.o.6a,q=a.3l,r=a.3m,t=a.3n,u=a.3o,v=a.3p,w=5(){m.s(i h);l.s(i n);g.s(i k);f.s(i p)},x=5(){b.s(e.6b,i q(a.o.2z));b.s(e.6c,i q(a.o.6d));b.s(e.6e,i q(a.o.6f));b.s(e.6g,i q(a.o.6h));b.s(e.6i,i q(a.o.6j));b.s(e.6k,i q(a.o.6l));b.s(e.6m,i q(a.o.6n));b.s(e.6o,i q(a.o.6p));b.s(e.2E,i t);b.s(e.6q,i u);b.s(e.6r,i q(a.o.6s));b.s(e.2C,i q(a.o.6t));b.s(0,i q(a.o.6u))},y=5(){c.s(c.2F,i r(a.o.P.6v));c.s(c.2G,i r(a.o.P.6w));c.s("1i",i v);c.s(d.6x,i r(a.o.P.6y));c.s(d.6z,i r(a.o.P.6A));c.s(d.6B,i r(a.o.P.6C));c.s(d.6D,i r(a.o.P.6E));c.s(d.6F,i r(a.o.P.6G));c.s(d.6H,i r(a.o.P.6I))};a.6J=w;a.6K=x;a.6L=y;a.6M=5(){w();x();y();b.s(e.6N,i q(a.o.3q));b.s(e.6O,i q(a.o.3q))}})(D);',62,423,'||||this|function|return|var|null|prototype|||||||||new|if|||||dkd||||setFactory|||||||cpu|type|call|protocol|DIMP|throw|Error|NotImplemented|Class|length|__user|getMessenger|mkm|getIdentifier|getFacebook|equals|cmd|getMeta|respondText|Object|getProcessor|for|getType|not|arguments|create|process|getPacker|getGroup|TwinsHelper|else|toString|getDocument|Interface|getContentProcessor|getCommandProcessor|Factory|Command|push|getSender|getCipherKey|parseCommand|setDataSource|getDataSource|Content|group|Meta|processReliableMessage|processContent|isBroadcast|getOvertGroup|cacheCipherKey|__host|__port|verify|encrypt|ContentProcessor|support|yet|getCmd|BaseCommandProcessor|saveMeta|__users|__groups|isGroup|encryptMessage|getDelegate|setDelegate|getReceiver|signMessage|serializeMessage|format|deserializeMessage|verifyMessage|decryptMessage|__factory|processSecureMessage|processInstantMessage|__class|BaseUser|ID|getVisa|sign|decrypt|getMembers|createContentProcessor|createCommandProcessor|BaseContentProcessor|MetaCommandProcessor|__creator|__content_processors|__command_processors|conforms|found|command|error|saveDocument|Document|handleAction|selectLocalUser|getContent|processPackage|getCipherKeyDelegate|parseContent|getCommandFactory|__facebook|__messenger|Bot|ANY|getContacts|signVisa|verifyVisa|getHost|getProperty|host|getPort|port|name|id|station|Station|BaseGroup|ServiceProvider|Creator|BaseTextContent|setGroup|ContentType|FORWARD|ForwardContentProcessor|COMMAND|META|DOCUMENT|DocumentCommandProcessor|ContentProcessorCreator|GroupCommand|ContentProcessorFactory|received|response|Sorry|meta|document|accept|getApplication|filterApplication|getModule|fetchHandler|Customized|app|receiver|local|GROUP|getKey|isFounder|getLocalUsers|createUser|createGroup|thanos|ReliableMessage|getEnvelope|toMap|JSON|encode|UTF8|decode|Envelope|InstantMessage|createFactory|createCreator|deserializeKey|deserializeContent|FactoryManager|generalFactory|ContentFactory|CommandFactory|GeneralCommandFactory|HistoryCommandFactory|GroupCommandFactory|AppCustomizedContent|object|typeof|BaseObject|Address|User|valueOf|setIdentifier|getPrototypeOf|constructor|getAddress|network|ANYWHERE|EVERY|stations|EVERYWHERE|getStations|MetaCommand|accepted|DocumentCommand|getString|doc_type|ForwardContent|getSecrets|ArrayContent|getContents|ArrayContentProcessor|getAction|mod|act|CustomizedContentHandler|CustomizedContentProcessor|KEYWORDS|all|everyone|anyone|owner|founder|dimp|dim|dimt|rsa|ecc|aes|des|btc|eth|crypto|key|symmetric|asymmetric|public|private|secret|password|address|profile|entity|user|contact|member|admin|administrator|assistant|main|polylogue|chatroom|social|organization|company|school|government|department|provider|thing|bot|robot|message|instant|secure|reliable|envelope|sender|time|content|forward|history|keys|data|signature|serial|sn|text|file|image|audio|video|page|handshake|receipt|block|mute|register|suicide|abdicate|invite|expel|join|quit|reset|query|hire|fire|resign|server|client|terminal|remote|barrack|cache|transceiver|ans|facebook|store|messenger|root|supervisor|split|isReserved|getNames|AddressNameService|EntityType|Barrack|checkDocument|getOwner|matchKey|isOwner|only|Polylogue|so|far|users|should|be|empty|getUser|reduceMemory|saveMembers|STATION|BOT|ISP|Facebook|Packer|setType|parse|trim|ReferenceError|MessagePacker|Processor|MessageProcessor|CipherKeyDelegate|Transceiver|Messenger|BaseCommand|BaseHistoryCommand|BaseGroupCommand|SecureMessage|EnvelopeFactory|InstantMessageFactory|SecureMessageFactory|ReliableMessageFactory|TEXT|FILE|BaseFileContent|IMAGE|ImageFileContent|AUDIO|AudioFileContent|VIDEO|VideoFileContent|PAGE|WebPageContent|MONEY|BaseMoneyContent|TRANSFER|TransferMoneyContent|HISTORY|ARRAY|ListContent|SecretContent|BaseContent|BaseMetaCommand|BaseDocumentCommand|INVITE|InviteGroupCommand|EXPEL|ExpelGroupCommand|JOIN|JoinGroupCommand|QUIT|QuitGroupCommand|QUERY|QueryGroupCommand|RESET|ResetGroupCommand|registerMessageFactories|registerContentFactories|registerCommandFactories|registerAllFactories|CUSTOMIZED|APPLICATION'.split('|'),0,{}));
