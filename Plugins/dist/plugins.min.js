/**
 *  DIM-Plugins (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 23, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!c(b){c 2t(1i){h(1i.s>=26){C m 1s("3C 3D 3E")}7 1t=m 2u(1j);F(7 j=0;j<1t.s;j++){1t[j]=26}F(7 i=0;i<1i.s;i++){7 x=1i.2v(i);7 2w=x.37(0);h(1t[2w]!==26){C m 1s(x+" 2x 3F")}1t[2w]=i}7 1k=1i.s;7 2y=1i.2v(0);7 38=1u.27(1k)/1u.27(1j);7 39=1u.27(1j)/1u.27(1k);c u(G){h(G.s===0){f""}7 1v=0;7 s=0;7 1a=0;7 28=G.s;1l(1a!==28&&G[1a]===0){1a++;1v++}7 p=((28-1a)*39+1)>>>0;7 1H=m 2u(p);1l(1a!==28){7 A=G[1a];7 i=0;F(7 1I=p-1;(A!==0||i<s)&&(1I!==-1);1I--,i++){A+=(1j*1H[1I])>>>0;1H[1I]=(A%1k)>>>0;A=(A/1k)>>>0}h(A!==0){C m 11("2z-3a A")}s=i;1a++}7 1m=p-s;1l(1m!==p&&1H[1m]===0){1m++}7 2A=2y.3G(1v);F(;1m<p;++1m){2A+=1i.2v(1H[1m])}f 2A}c 29(G){h(3H G!=="D"){C m 1s("3I 2B")}h(G.s===0){f[]}7 12=0;h(G[12]===" "){f}7 1v=0;7 s=0;1l(G[12]===2y){1v++;12++}7 p=(((G.s-12)*38)+1)>>>0;7 1J=m 2u(p);1l(G[12]){7 A=1t[G.37(12)];h(A===26){f}7 i=0;F(7 1K=p-1;(A!==0||i<s)&&(1K!==-1);1K--,i++){A+=(1k*1J[1K])>>>0;1J[1K]=(A%1j)>>>0;A=(A/1j)>>>0}h(A!==0){C m 11("2z-3a A")}s=i;12++}h(G[12]===" "){f}7 1w=p-s;1l(1w!==p&&1J[1w]===0){1w++}7 2a=[];7 j=0;F(;j<1v;++j){2a[j]=0}1l(1w!==p){2a[j++]=1J[1w++]}f 2a}c B(D){7 2C=29(D);h(2C){f b.w.E.3J(2C).W()}C m 11("2z-2t"+1k+" 3K")}f{u:u,29:29,B:B}}7 2D=2t("3L");7 2E=b.y.2E;7 1L=c(){};b.w.X(1L,1b,2E);1L.q.u=c(d){f 2D.u(d)};1L.q.B=c(D){f 2D.B(D)};b.y.1M.3M=m 1L()}(Y);!c(b){7 14=b.z.14;7 2b=c(){};b.w.X(2b,1b,14);2b.q.z=c(d){7 1x=b.y.v.u(d);7 1c=H.1y.v.1z(1x);7 1d=H.3b(1c);f b.y.v.B(1d.1N())};b.z.3b.2F=m 2b()}(Y);!c(b){7 14=b.z.14;7 1O=c(){};b.w.X(1O,1b,14);1O.q.z=c(d){7 1x=b.y.v.u(d);7 1c=H.1y.v.1z(1x);7 1d=H.S(1c);f b.y.v.B(1d.1N())};b.z.S.2F=m 1O()}(Y);!c(b){7 14=b.z.14;7 2c=c(){};b.w.X(2c,1b,14);2c.q.z=c(d){7 1x=b.y.v.u(d);7 1c=H.1y.v.1z(1x);7 1d=H.1P(1c);f b.y.v.B(1d.1N())};b.z.1P.2F=m 2c()}(Y);!c(b){7 t=b.y.t;7 2d=3N;7 1Q="\\r\\n";7 3c=c(d){7 I=t.u(d);7 s=I.s;h(s>2d&&I.1R(1Q)<0){7 1S="";7 M=0,1n;F(;M<s;M+=2d){1n=M+2d;h(1n<s){1S+=I.2G(M,1n);1S+=1Q}J{1S+=I.2G(M,s);3O}}I=1S}f I};7 2H=c(k,1T,2e){7 2f=3c(k);f 1T+1Q+2f+1Q+2e};7 2I=c(o,1T,2e){7 M=o.1R(1T);h(M<0){f 1b}M+=1T.s;7 1n=o.1R(2e,M);h(1n<M){f 1b}f t.B(o.2G(M,1n))};7 3d=c(k){f 2H(k,"-----2g 1U Z-----","-----2h 1U Z-----")};7 3e=c(k){f 2H(k,"-----2g N 1V Z-----","-----2h N 1V Z-----")};7 3f=c(o){7 d=2I(o,"-----2g 1U Z-----","-----2h 1U Z-----");h(d){f d}h(o.1R("1V Z")>0){C 1s("g 2x a 3g k 2f")}J{f t.B(o)}};7 3h=c(o){7 d=2I(o,"-----2g N 1V Z-----","-----2h N 1V Z-----");h(d){f d}h(o.1R("1U Z")>0){C 1s("g 2x 3i a N 3g k 2f")}J{f t.B(o)}};7 2J=b.y.2J;7 o=c(){};b.w.X(o,1b,2J);o.q.3P=c(k){f 3d(k)};o.q.3Q=c(k){f 3e(k)};o.q.3j=c(o){f 3f(o)};o.q.2K=c(o){f 3h(o)};b.y.1e.3R=m o()}(Y);!c(b){7 E=b.w.E;7 O=b.w.O;7 1A=b.1f.1A;7 t=b.y.t;7 v=b.y.v;7 1o=c(d){7 D=v.u(d);f H.1y.v.1z(D)};7 2L=c(1c){7 1d=1c.1N();f v.B(1d)};7 2M=c(p){7 d=m E(p);F(7 i=0;i<p;++i){d.1g(1u.3S(1u.3T()*1j))}f d.W()};7 3k=c(p){7 d=m E(p);f d.W()};7 P=c(k){O.T(g,k)};b.w.X(P,O,1A);P.q.1W=c(){7 p=g.15("1X");h(p){f 2i(p)}J{f 32}};P.q.2N=c(){7 p=g.15("2O");h(p){f 2i(p)}J{f 16}};P.q.1h=c(){7 d=g.15("d");h(d){f t.B(d)}7 1X=g.1W();7 2P=2M(1X);g.1p("d",t.u(2P));7 2O=g.2N();7 K=2M(2O);g.1p("K",t.u(K));f 2P};P.q.2Q=c(){7 K=g.15("K");h(K){f t.B(K)}7 2R=3k(g.2N());g.1p(t.u(2R));f 2R};P.q.1B=c(17){7 d=g.1h();7 K=g.2Q();7 2j=1o(d);7 2k=1o(K);7 2S=1o(17);7 l=H.2l.1B(2S,2j,{K:2k});h(l.3U("1Y")){f 2L(l.1Y)}J{C 1s("3V 3W 1B 2S 3X k: "+g)}};P.q.1Z=c(1Y){7 d=g.1h();7 K=g.2Q();7 2j=1o(d);7 2k=1o(K);7 l={1Y:1o(1Y)};7 17=H.2l.1Z(l,2j,{K:2k});f 2L(17)};1A.10(1A.2l,P);1A.10("2l/3Y/3Z",P);b.1C.P=P}(Y);!c(b){7 v=b.y.v;7 t=b.y.t;7 1e=b.y.1e;7 E=b.w.E;7 O=b.w.O;7 1D=b.1f.1D;7 18=b.1f.18;7 2T=b.1f.2T;7 U=c(k){O.T(g,k)};b.w.X(U,O,18,2T);U.q.1h=c(){7 d=g.15("d");h(d){f 1e.3j(d)}J{C 11("40 k d 3i 41")}};U.q.1W=c(){7 p=g.15("1X");h(p){f 2i(p)}J{f 3l/8}};7 2m=[48,-3m,-43,48,13,6,9,42,-3n,44,-3n,-9,13,1,1,1,5,0,3,-3m,-45,0];2m=m E(2m);7 1E=c(){h(!g.l){7 1q=g.1h();7 k=t.u(1q);7 l=m 2n();l.3o(k);h(l.k.e===0||l.k.n===1b){1q=2m.46(1q).W();k=t.u(1q);l.3o(k)}g.l=l}f g.l};U.q.3p=c(d,2o){d=H.1y.v.1z(v.u(d));2o=t.u(2o);7 l=1E.T(g);f l.3p(d,2o,H.S)};U.q.1B=c(17){17=(m b.w.2B(17)).1N();7 l=1E.T(g);7 I=l.1B(17);h(I){f t.B(I)}J{C 11("N 1B 22: "+17)}};18.10(1D.N,U);18.10("3q",U);18.10("N/2p/3r",U);b.1C.U=U}(Y);!c(b){7 v=b.y.v;7 t=b.y.t;7 1e=b.y.1e;7 O=b.w.O;7 1D=b.1f.1D;7 1F=b.1f.1F;7 2U=b.1f.2U;7 18=b.1f.18;7 Q=c(k){O.T(g,k)};b.w.X(Q,O,1F,2U);Q.q.1h=c(){7 d=g.15("d");h(d){f 1e.2K(d)}J{7 2q=g.1W()*8;7 o=2r.T(g,2q);f 1e.2K(o)}};7 2r=c(2q){7 l=m 2n({47:2q});7 k=l.49();7 o=k.2V()+"\\r\\n"+k.4a();g.1p("d",o);g.1p("3s","2p");g.1p("3t","3u");g.1p("z","S");f o};Q.q.1W=c(){7 p=g.15("1X");h(p){f 2i(p)}J{f 3l/8}};Q.q.2V=c(){7 k=t.u(g.1h());7 l=m 2n();l.3v(k);7 o=l.2V();7 3w={3x:g.15("3x"),d:o,3s:"2p",3t:"3u",z:"S"};f 18.4b(3w)};7 1E=c(){h(!g.l){7 1q=g.1h();7 k=t.u(1q);7 l=m 2n();l.3v(k);g.l=l}f g.l};Q.q.2W=c(d){d=H.1y.v.1z(v.u(d));7 l=1E.T(g);7 I=l.2W(d,H.S,"1O");h(I){f t.B(I)}J{C 11("N 2W 22: "+d)}};Q.q.1Z=c(d){d=t.u(d);7 l=1E.T(g);7 D=l.1Z(d);h(D){f(m b.w.2B(D)).W()}J{C 11("N 1Z 22: "+d)}};1F.10(1D.N,Q);1F.10("3q",Q);1F.10("N/2p/3r",Q);b.1C.Q=Q}(Y);!c(b){7 E=b.w.E;7 S=b.z.S;7 1P=b.z.1P;7 1M=b.y.1M;7 2X=b.3y.2X;7 23=b.23;7 R=c(D){23.T(g,D);7 d=1M.B(D);h(d.s!==25){C 4c("2Y s 22: "+D)}7 2Z=m E(21);7 30=m E(4);7 i;F(i=0;i<21;++i){2Z.1g(d[i])}F(i=21;i<25;++i){30.1g(d[i])}7 L=31(2Z.W());h(!b.w.4d.4e(L,30.W())){C 11("2Y 4f 33 22: "+D)}g.V=m 2X(d[0]);g.33=3z(L)};b.w.X(R,23);R.q.4g=c(){f g.V};R.q.4h=c(){f g.33};R.2r=c(34,V){7 z=1P.z(S.z(34));7 24=m E(21);24.1g(V.4i);7 i;F(i=0;i<20;++i){24.1g(z[i])}7 L=31(24.W());7 d=m E(25);F(i=0;i<21;++i){d.1g(24.4j(i))}F(i=0;i<4;++i){d.1g(L[i])}f m R(1M.u(d.W()))};7 31=c(d){7 3A=S.z(S.z(d));7 L=m E(4);7 i;F(i=0;i<4;++i){L.1g(3A[i])}f L.W()};7 3z=c(L){f(L[0]|L[1]<<8|L[2]<<16)+L[3]*4k};23.10(R);b.1C.R=R}(Y);!c(b){7 35=b.3y.35;7 1G=b.1G;7 R=b.1C.R;7 1r=c(36){1G.T(g,36);g.2s={}};b.w.X(1r,1G);1r.q.3B=c(V){7 19=g.2s[V];h(!19){19=1G.q.3B.T(g,V);h(19){g.2s[V]=19}}f 19};1r.q.4l=c(V){h(!g.4m()){C 11("36 4n: "+g)}7 19=g.2s[V];h(19){f 19.2Y}f R.2r(g.34,V)};1G.10(35.4o,1r);b.1C.1r=1r}(Y);',62,273,'|||||||var||||ns|function|data||return|this|if|||key|cipher|new||pem|size|prototype||length|Base64|encode|Hex|type||format|digest|carry|decode|throw|string|Data|for|source|CryptoJS|base64|else|iv|cc|start|RSA|Dictionary|AESKey|RSAPrivateKey|DefaultAddress|SHA256|call|RSAPublicKey|network|getBytes|Class|DIMP|KEY|register|Error|psz||Hash|getValue||plaintext|PublicKey|identifier|pbegin|null|array|result|PEM|crypto|push|getData|ALPHABET|256|BASE|while|it2|end|bytes2words|setValue|der|DefaultMeta|TypeError|BASE_MAP|Math|zeroes|it4|hex|enc|parse|SymmetricKey|encrypt|plugins|AsymmetricKey|parse_key|PrivateKey|Meta|b58|it1|b256|it3|base58|Base58|toString|sha256|RIPEMD160|CR_LF|indexOf|sb|left|PUBLIC|PRIVATE|getSize|keySize|ciphertext|decrypt|||error|Address|head||255|log|pend|decodeUnsafe|vch|md5|ripemd160|MIME_LINE_MAX_LEN|right|content|BEGIN|END|Number|keyWordArray|ivWordArray|AES|x509_header|JSEncrypt|signature|ECB|bits|generate|idMap|base|Uint8Array|charAt|xc|is|LEADER|Non|str|String|buffer|bs58|BaseCoder|hash|substring|encode_key|decode_key|KeyParser|decodePrivateKey|words2bytes|random_data|getBlockSize|blockSize|pwd|getInitVector|zeros|message|EncryptKey|DecryptKey|getPublicKey|sign|NetworkType|address|prefix|suffix|check_code||code|fingerprint|MetaType|meta|charCodeAt|FACTOR|iFACTOR|zero|MD5|rfc2045|encode_public|encode_rsa_private|decode_public|private|decode_rsa_private|not|decodePublicKey|zero_data|1024|127|122|setPublicKey|verify|SHA256withRSA|PKCS1Padding|mode|padding|PKCS1|setPrivateKey|info|algorithm|protocol|search_number|sha256d|generateIdentifier|Alphabet|too|long|ambiguous|repeat|typeof|Expected|from|character|123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz|coder|76|break|encodePublicKey|encodePrivateKey|parser|floor|random|hasOwnProperty|failed|to|with|CBC|PKCS7Padding|public|found||97|72|115|concat|default_key_size||getKey|getPrivateKey|getInstance|RangeError|Arrays|equals|check|getNetwork|getCode|value|getByte|16777216|generateAddress|isValid|invalid|MKM'.split('|'),0,{}))
