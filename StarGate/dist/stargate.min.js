/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h(1H 1p!=="1V"){1p={}}h(1H F!=="1V"){F={}}!a(1i,2K){h(1H F.V!=="1V"){1i.V={}}h(1H F.W!=="1V"){1i.W={}}v.1W(2K);v.1W(1i);v.1W(1i.V);v.1W(1i.W);1i.A("V");1i.A("W")}(F,1p);!a(g){e P=a(){};v.C.1X(P);P.c.2L=a(y,s){n.o(y!==l,"y u");n.o(s!==l,"s u");n.o(D,"J K!")};P.c.2M=a(y,s){n.o(y!==l,"y u");n.o(s!==l,"s u");n.o(D,"J K!")};P.c.2N=a(y,s){n.o(y!==l,"y u");n.o(s!==l,"s u")};P.c.2O=a(y,s){n.o(y!==l,"y u");n.o(s!==l,"s u")};g.2P=P;g.A("2P")}(1p);!a(g){e 1v=a(2Q){9.2R=2Q};v.C.Z(1v);1v.c.2S=a(s){n.o(s!==l,"s u");n.o(D,"J K!");m D};g.1v=1v;g.A("1v")}(1p);!a(g){e 11=a(){9.1I=[]};v.C.Z(11);11.c.3u=a(1b){h(9.1I.1Y(1b)>=0){1j 1k("1b 2T: "+1b)}9.1I.2f(1b)};11.c.2g=a(s){e 1b;12(e i=0;i<9.1I.N;++i){1b=9.1I[i];h(1b.2S(s)){s.1Z(1b.2R);2U}}};11.c.2V=a(s){n.o(s!==l,"s u");n.o(D,"J K!")};11.c.2W=a(s){n.o(s!==l,"s u");n.o(D,"J K!")};11.c.2X=a(s){n.o(s!==l,"s u")};11.c.2Y=a(s){n.o(s!==l,"s u")};g.11=11;g.A("11")}(1p);!a(g){e Q=v.C.2Z({1J:0,1K:1,2h:2});e R=a(1L){9.1L=1L?1L:"3v";9.X=l;9.2i={};9.w=Q.1J;9.t=l};v.C.Z(R);R.c.3w=a(y,O){9.2i[O]=y};R.c.1Z=a(O){e y=9.X;h(y){9.t.2M(y,9);y.2W(9)}y=9.2i[O];9.X=y;h(y){9.t.2L(y,9);y.2V(9)}};R.c.30=a(){m 9.w.1q(Q.1K)};R.c.2g=a(){h(9.30()){9.X.2g(9)}};R.c.31=a(){h(!9.w.1q(Q.1J)||9.X){1j 1k("20 31 Y: "+9.w)}9.1Z(9.1L);9.w=Q.1K};R.c.32=a(){h(9.w.1q(Q.1J)||!9.X){1j 1k("20 32 Y: "+9.w)}9.w=Q.1J;9.1Z(l)};R.c.2j=a(){h(!9.w.1q(Q.1K)||!9.X){1j 1k("20 2j Y: "+9.w)}9.t.2N(9.X,9);9.w=Q.2h;9.X.2X(9)};R.c.2k=a(){h(!9.w.1q(Q.2h)||!9.X){1j 1k("20 2k Y: "+9.w)}9.t.2O(9.X,9);9.w=Q.1K;9.X.2Y(9)};g.R=R;g.A("R")}(1p);!a(g){e 1w=a(){};v.C.1X(1w);1w.c.33=a(1c){n.o(1c!==l,"1c u");n.o(D,"J K!")};g.1w=1w;g.A("1w")}(F);!a(g){e 1l=a(O,1M,1N){9.O=O;9.1M=1M;9.1N=1N};v.C.Z(1l);g.1l=1l;g.A("1l")}(F);!a(g){e 1l=g.1l;e 1m=a(){9.1x={}};v.C.Z(1m);1m.c.3x=a(1y,O){e 1d=9.1x[O];h(1d){h(1d.1Y(1y)>=0){m}}G{1d=[];9.1x[O]=1d}1d.2f(1y)};1m.c.34=a(1y,O){h(O){e 1d=9.1x[O];h(1d){v.C.3y.35(1d,1y)}}G{e 2l=3z.3A(9.1x);12(e i=0;i<2l.N;++i){9.34(1y,2l[i])}}};1m.c.3B=a(1c,1M,1N){h(1H 1c==="3C"){1c=S 1l(1c,1M,1N)}e 21=9.1x[1c.O];h(!21){m}12(e i=0;i<21.N;++i){21[i].33(1c)}};e 22=l;1m.3D=a(){h(!22){22=S 1m()}m 22};g.36=1m;g.A("36")}(F);!a(g){e E=a(1e,1f){9.1e=1e;h(1f){9.1r=1f}G{9.1r="2m"}};v.C.Z(E);E.c.23=a(1n){m 9.1e.23(1n)};E.c.2n=a(1n,37){9.1e.2n(1n,37)};E.c.24=a(1n){9.1e.24(1n)};E.c.38=a(){9.1e.38()};E.c.3E=a(){m 9.1e.N};E.c.1n=a(r){m 9.1e.1n(r)};E.c.2T=a(H){m!!9.23(9.1r+"."+H)};E.c.2o=a(H){m 9.23(9.1r+"."+H)};E.c.3F=a(H){e 1z=9.2o(H);h(!1z){m l}m v.1O.39.3a(1z)};E.c.3G=a(H){e 1A=9.2o(H);h(!1A){m l}m v.1O.3b.3a(1A)};E.c.35=a(H){9.24(9.1r+"."+H);m 2p};E.c.2q=a(2r,H){h(2r){9.2n(9.1r+"."+H,2r);m 2p}G{9.24(9.1r+"."+H);m D}};E.c.3H=a(b,H){e 1z=l;h(b){1z=v.1O.39.3c(b)}m 9.2q(1z,H)};E.c.3I=a(2s,H){e 1A=l;h(2s){1A=v.1O.3b.3c(2s)}m 9.2q(1A,H)};g.3d=S E(2t.3J,"2m.3K");g.3e=S E(2t.3L,"2m.3M");g.A("3d");g.A("3e")}(F);!a(g){e P=a(){};v.C.1X(P);P.c.1s=a(2u,T){n.o(2u!==l,"2u u");n.o(T!==l,"T u");n.o(D,"J K!")};P.c.3f=a(w,T){n.o(w!==l,"w u");n.o(T!==l,"T u");n.o(D,"J K!")};P.c.1P=a(2v,Y,T){n.o(2v!==l,"2v u");n.o(T!==l,"T u");n.o(D,"J K!")};e Q=v.C.2Z({1k:-1,25:0,3g:1,2w:2});g.3h=P;g.13=Q;g.A("3h");g.A("13")}(F);!a(g){e L=a(){};v.C.1X(L);L.c.3i=a(){n.o(D,"J K!");m l};L.c.3j=a(1o){n.o(1o!==l,"1o u");n.o(D,"J K!")};L.c.3k=a(){n.o(D,"J K!")};L.c.2j=a(1o){};L.c.2k=a(1o){};L.c.1B=a(2x,t){n.o(2x!==l,"2x u");n.o(t!==l,"t u");n.o(D,"J K!")};g.L=L;g.A("L")}(F);!a(g){e L=g.L;e 14=a(b,t){9.b=b;9.t=t;9.T=l};v.C.Z(14);14.c.3N=a(b){9.t.1s(b)};14.c.3O=a(){9.t.1P(9.b,l,9.T)};14.c.2y=a(Y){9.t.1P(9.b,Y,9.T)};g.V.14=14;g.V.A("14")}(F);!a(g){e 14=g.V.14;e 13=g.13;e L=g.L;e x=a(t){9.t=t;9.w=13.25;9.26=[]};v.C.Z(x,l,L);x.c.1s=a(b){9.t.1s(b,9)};x.c.3i=a(){m 9.w};x.c.1C=a(w){h(w.1q(9.w)){m}9.t.3f(w,9);9.w=w};x.c.3l=a(){h(9.26.N===0){m l}m 9.26.3P()};x.c.2z=a(B,q){n.o(B!==l,"B u");n.o(q!==l,"q u");n.o(D,"J K!")};x.c.27=a(){n.o(D,"J K!")};x.c.3m=a(){m 9.w.1q(13.2w)};x.c.28=a(){9.1C(13.2w)};x.c.3n=a(){9.1C(13.25)};x.c.2y=a(Y){9.1C(13.1k)};x.c.1s=a(b){9.t.1s(b,9)};x.c.3j=a(1o){9.27();9.1C(13.3g);e B=1o["B"];e q=1o["q"];9.2z(B,q)};x.c.3k=a(){9.27();9.1C(13.25)};x.c.1B=a(b,t){e 19=S 14(b,t);19.T=9;9.26.2f(19)};g.V.x=x;g.V.A("x")}(F);!a(g){e x=g.V.x;e 1g=a(t){x.1Q(9,t);9.I=l};v.C.Z(1g,x);1g.c.2z=a(B,q){e 29="I";h("3Q"===2t.3R.29.1t(":")[0]){29="3S"}e 3o=29+"://"+B+":"+q;e I=S 3T(3o);I.1R=9;I.3U=a(1D){9.1R.28()};I.3V=a(1D){9.1R.3n()};I.3W=a(1D){e Y=S 1k("I Y: "+1D);9.1R.2y(Y)};I.3X=a(1D){9.1R.1s(1D.b)};9.I=I};1g.c.27=a(I){h(!9.I){m}9.I.3Y();9.I=l};1g.c.28=a(){x.c.28.1Q(9);e 19;3Z(2p){19=9.3l();h(!19){2U}9.I.1B(19.b);h(19.t){19.t.1P(19.b,l,9)}}};1g.c.1B=a(b,t){h(9.3m()){9.I.1B(b);h(t){t.1P(b,l,9)}}G{x.c.1B.1Q(9,b,t)}};g.V.1g=1g;g.V.A("1g")}(F);!a(g){e M=a(p,q,b){9.p=p;9.q=q;9.b=b};M.c.1S=a(){n.o(D,"J K!");m l};M.c.1E=a(){m 9.1S()};M.c.40=a(){m 9.1S()};M.c.41=a(3p){e b=9.b;e q=9.q;e 1u=b.N;e z,r;h(!q||q===3p){z=S 2a(1u);12(r=0;r<1u;++r){z[r]=b[r]}}G{z=S 2a(1u+2);12(r=0;r<1u;++r){z[r]=b[r]}z[1u]=q>>8;z[1u+1]=q&2b}m z};g.W.M=M;g.W.A("M")}(F);!a(g){e M=g.W.M;e 1h=a(p,q,b){h(b){h(!p){p=b[0]+"."+b[1]+"."+b[2]+"."+b[3];h(b.N===6){q=(b[4]<<8)|b[5]}}}G{h(p){b=S 2a(4);e z=p.1t(".");12(e r=0;r<4;++r){b[r]=1F(z[r],10)}}G{1j 2A("3q b u: "+b+", "+p+", "+q)}}M.1Q(9,p,q,b)};v.C.Z(1h,M);1h.c.1S=a(){h(9.q===0){m 9.p}G{m 9.p+":"+9.q}};1h.2c=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;1h.3r=a(B){h(!9.2c.2B(B)){m l}e 2d=B.1t(":");e p=2d[0],q=0;h(2d.N===2){q=1F(2d[1])}m S 1h(p,q)};g.W.1h=1h;g.W.A("1h")}(F);!a(g){e M=g.W.M;e 3s=a(b,z){e U,r=b.42;12(e i=z.N-1;i>=0;--i){U=z[i];b[--r]=U}m b};e 2C=a(b,p,2D){e z,U,r;e 1a=p.1Y("::");h(1a<0){z=p.1t(":");r=-1;12(e i=0;i<2D;++i){U=1F(z[i],16);b[++r]=U>>8;b[++r]=U&2b}}G{e 2E=p.1G(0,1a).1t(":");r=-1;12(e j=0;j<2E.N;++j){U=1F(2E[j],16);b[++r]=U>>8;b[++r]=U&2b}e 2F=p.1G(1a+2).1t(":");r=2D*2;12(e k=2F.N-1;k>=0;--k){U=1F(2F[k],16);b[--r]=U&2b;b[--r]=U>>8}}m b};e 2G=a(2e,1T){h(2e>0){h(1T>=16){m 1U(2e).1E(16)+1U(1T).1E(16)}m 1U(2e).1E(16)+"0"+1U(1T).1E(16)}G{m 1U(1T).1E(16)}};e 15=a(p,q,b){h(b){h(!p){p=2G(b[0],b[1]);12(e r=2;r<16;r+=2){p+=":"+2G(b[r],b[r+1])}p=p.2H(/:(0:){2,}/,"::");p=p.2H(/^(0::)/,"::");p=p.2H(/(::0)$/,"::");h(b.N===18){q=(b[16]<<8)|b[17]}}}G{h(p){b=S 2a(16);e z=p.1t(".");h(z.N===1){b=2C(b,p,8)}G{h(z.N===4){e 1f=z[0];e 1a=1f.43(":");z[0]=1f.1G(1a+1);1f=1f.1G(0,1a);b=2C(b,1f,6);b=3s(b,z)}G{1j 2A("15 1O Y: "+p)}}}G{1j 2A("3q b u: "+b+", "+p+", "+q)}}M.1Q(9,p,q,b)};v.C.Z(15,M);15.c.1S=a(){h(9.q===0){m 9.p}G{m"["+9.p+"]:"+9.q}};15.2c=/^\\[?([0-2I-2J-f]{0,4}:){2,7}[0-2I-2J-f]{0,4}(]:\\d{1,5})?$/;15.3t=/^\\[?([0-2I-2J-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;15.3r=a(B){h(!9.2c.2B(B)&&!9.3t.2B(B)){m l}e p,q;h(B.44(0)==="["){e 1a=B.1Y("]");p=B.1G(1,1a);q=1F(B.1G(1a+2))}G{p=B;q=0}m S 15(p,q)};g.W.15=15;g.W.A("15")}(F);',62,253,'|||||||||this|function|data|prototype||var||ns|if||||null|return|console|assert|ip|port|index|machine|delegate|empty|DIMP|status|Fence|state|array|register|host|type|false|Storage|StarGate|else|path|ws|implement|me|Star|Host|length|name|Delegate|Status|Machine|new|star|item|extensions|network|currentState|error|Class||State|for|StarStatus|Task|IPv6||||task|pos|transition|notification|list|storage|prefix|SocketClient|IPv4|sg|throw|Error|Notification|Center|key|options|FiniteStateMachine|equals|ROOT|onReceived|split|len|Transition|Observer|observerMap|observer|base64|json|send|setStatus|ev|toString|parseInt|substring|typeof|transitions|Stopped|Running|defaultStateName|sender|userInfo|format|onSent|call|client|valueOf|lo|Number|object|namespace|Interface|indexOf|changeState|FSM|observers|s_notification_center|getItem|removeItem|Init|waitingList|disconnect|onConnected|protocol|Uint8Array|255|patten|pair|hi|push|tick|Paused|stateMap|pause|resume|names|dim|setItem|loadText|true|saveText|text|container|window|response|request|Connected|payload|onError|connect|URIError|test|parse_v6|count|left|right|hex_encode|replace|9A|Fa|fsm|enterState|exitState|pauseState|resumeState|StateDelegate|targetStateName|target|evaluate|exists|break|onEnter|onExit|onPause|onResume|Enum|isRunning|start|stop|onReceiveNotification|removeObserver|remove|NotificationCenter|value|clear|Base64|decode|JSON|encode|LocalStorage|SessionStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|getTask|isConnected|onClosed|url|default_port|IP|parse|parse_v4|patten_compat|addTransition|default|addState|addObserver|Arrays|Object|keys|postNotification|string|getInstance|getLength|loadData|loadJSON|saveData|saveJSON|localStorage|fs|sessionStorage|mem|onResponse|onSuccess|shift|https|location|wss|WebSocket|onopen|onclose|onerror|onmessage|close|while|toLocaleString|toArray|byteLength|lastIndexOf|charAt'.split('|'),0,{}))
