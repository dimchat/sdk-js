/**
 *  StarGate (v0.1.0)
 *  (Interfaces for network connection)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      May. 5, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h(1w 1p!=="1X"){1p={}}h(1w z!=="1X"){z={}}!a(1h,2J){h(1w z.R!=="1X"){1h.R={}}h(1w z.S!=="1X"){1h.S={}}n.1Y(2J);n.1Y(1h);n.1Y(1h.R);n.1Y(1h.S);1h.v("R");1h.v("S")}(z,1p);!a(g){c M=a(){};n.1L(M,o);M.e.2K=a(I,T){D.E(w,"F G!")};M.e.2L=a(I,T){D.E(w,"F G!")};M.e.2M=a(I,T){};M.e.2N=a(I,T){};g.2O=M;g.v("2O")}(1p);!a(g){c 1x=a(2P){9.2Q=2P};n.U(1x,n.V.14,o);1x.e.2R=a(T){D.E(w,"F G!");l w};g.1x=1x;g.v("1x")}(1p);!a(g){c Y=a(){9.1M=[]};n.U(Y,n.V.14,o);Y.e.3t=a(1a){h(9.1M.1Z(1a)>=0){1i 1j("1a 2S: "+1a)}9.1M.2g(1a)};Y.e.2h=a(T){c 1a;Z(c i=0;i<9.1M.J;++i){1a=9.1M[i];h(1a.2R(T)){T.20(1a.2Q);2T}}};Y.e.2U=a(T){D.E(w,"F G!")};Y.e.2V=a(T){D.E(w,"F G!")};Y.e.2W=a(T){};Y.e.2X=a(T){};g.Y=Y;g.v("Y")}(1p);!a(g){c N=n.V.2Y(o,{1N:0,1O:1,2i:2});c O=a(1P){9.1P=1P?1P:"3u";9.W=o;9.2j={};9.t=N.1N;9.r=o};n.U(O,n.V.14,o);O.e.3v=a(I,K){9.2j[K]=I};O.e.20=a(K){c I=9.W;h(I){9.r.2L(I,9);I.2V(9)}I=9.2j[K];9.W=I;h(I){9.r.2K(I,9);I.2U(9)}};O.e.2Z=a(){l 9.t.1q(N.1O)};O.e.2h=a(){h(9.2Z()){9.W.2h(9)}};O.e.30=a(){h(!9.t.1q(N.1N)||9.W){1i 1j("21 30 X: "+9.t)}9.20(9.1P);9.t=N.1O};O.e.31=a(){h(9.t.1q(N.1N)||!9.W){1i 1j("21 31 X: "+9.t)}9.t=N.1N;9.20(o)};O.e.2k=a(){h(!9.t.1q(N.1O)||!9.W){1i 1j("21 2k X: "+9.t)}9.r.2M(9.W,9);9.t=N.2i;9.W.2W(9)};O.e.2l=a(){h(!9.t.1q(N.2i)||!9.W){1i 1j("21 2l X: "+9.t)}9.r.2N(9.W,9);9.t=N.1O;9.W.2X(9)};g.O=O;g.v("O")}(1p);!a(g){c 1b=a(){};n.1L(1b,o);1b.e.32=a(1k){D.E(w,"F G!")};g.1b=1b;g.v("1b")}(z);!a(g){c 1l=a(K,1Q,1R){9.K=K;9.1Q=1Q;9.1R=1R};n.U(1l,n.V.14,o);g.1l=1l;g.v("1l")}(z);!a(g){c 1l=g.1l;c 1b=g.1b;c 1m=a(){9.1y={}};n.U(1m,n.V.14,o);1m.e.3w=a(1z,K){c 1c=9.1y[K];h(1c){h(1c.1Z(1z)>=0){l}}x{1c=[];9.1y[K]=1c}1c.2g(1z)};1m.e.33=a(1z,K){h(K){c 1c=9.1y[K];h(1c){n.V.3x.34(1c,1z)}}x{c 2m=14.3y(9.1y);Z(c i=0;i<2m.J;++i){9.33(1z,2m[i])}}};1m.e.3z=a(1k,1Q,1R){h(1w 1k==="3A"){1k=P 1l(1k,1Q,1R)}c 22=9.1y[1k.K];h(!22){l}c 1A;Z(c i=0;i<22.J;++i){1A=22[i];h(n.1L.3B(1A,1b)){1A.32(1k)}x{h(1w 1A==="a"){1A.1B(1k)}}}};c 23=o;1m.3C=a(){h(!23){23=P 1m()}l 23};g.35=1m;g.v("35")}(z);!a(g){c y=a(1d,1e){9.1d=1d;h(1e){9.1r=1e}x{9.1r="2n"}};n.U(y,n.V.14,o);y.e.24=a(1n){l 9.1d.24(1n)};y.e.2o=a(1n,36){9.1d.2o(1n,36)};y.e.25=a(1n){9.1d.25(1n)};y.e.37=a(){9.1d.37()};y.e.3D=a(){l 9.1d.J};y.e.1n=a(p){l 9.1d.1n(p)};y.e.2S=a(A){l!!9.24(9.1r+"."+A)};y.e.2p=a(A){l 9.24(9.1r+"."+A)};y.e.3E=a(A){c 1C=9.2p(A);h(!1C){l o}l n.1D.38.2q(1C)};y.e.3F=a(A){c 1o=9.2p(A);h(!1o){l o}l n.1D.39.2q(1o)};y.e.34=a(A){9.25(9.1r+"."+A);l 2r};y.e.2s=a(2t,A){h(2t){9.2o(9.1r+"."+A,2t);l 2r}x{9.25(9.1r+"."+A);l w}};y.e.3G=a(b,A){c 1C=o;h(b){1C=n.1D.38.3a(b)}l 9.2s(1C,A)};y.e.3H=a(2u,A){c 1o=o;h(2u){1o=n.1D.39.3a(2u);1o=n.1D.3I.2q(1o)}l 9.2s(1o,A)};g.3b=P y(2v.3J,"2n.3K");g.3c=P y(2v.3L,"2n.3M");g.v("3b");g.v("3c")}(z);!a(g){c M=a(){};n.1L(M,o);M.e.1s=a(3N,1t){D.E(w,"F G!")};M.e.3d=a(t,1t){D.E(w,"F G!")};M.e.1S=a(3O,X,1t){D.E(w,"F G!")};c N=n.V.2Y(o,{1j:-1,26:0,3e:1,2w:2});g.3f=M;g.11=N;g.v("3f");g.v("11")}(z);!a(g){c L=a(){};n.1L(L,o);L.e.3g=a(){D.E(w,"F G!");l o};L.e.3h=a(1E){D.E(w,"F G!")};L.e.3i=a(){D.E(w,"F G!")};L.e.2k=a(1E){};L.e.2l=a(1E){};L.e.1F=a(3P,r){D.E(w,"F G!")};g.L=L;g.v("L")}(z);!a(g){c 12=a(b,r){9.b=b;9.r=r;9.1t=o};n.U(12,n.V.14,o);12.e.3Q=a(b){9.r.1s(b)};12.e.3R=a(){9.r.1S(9.b,o,9.1t)};12.e.2x=a(X){9.r.1S(9.b,X,9.1t)};g.R.12=12;g.R.v("12")}(z);!a(g){c 12=g.R.12;c 11=g.11;c L=g.L;c s=a(r){9.r=r;9.t=11.26;9.27=[]};n.U(s,n.V.14,[L]);s.e.1s=a(b){9.r.1s(b,9)};s.e.3g=a(){l 9.t};s.e.1G=a(t){h(t.1q(9.t)){l}9.r.3d(t,9);9.t=t};s.e.3j=a(){h(9.27.J===0){l o}l 9.27.3S()};s.e.2y=a(B,q){D.E(w,"F G!")};s.e.28=a(){D.E(w,"F G!")};s.e.3k=a(){l 9.t.1q(11.2w)};s.e.29=a(){9.1G(11.2w)};s.e.3l=a(){9.1G(11.26)};s.e.2x=a(X){9.1G(11.1j)};s.e.1s=a(b){9.r.1s(b,9)};s.e.3h=a(1E){9.28();9.1G(11.3e);c B=1E["B"];c q=1E["q"];9.2y(B,q)};s.e.3i=a(){9.28();9.1G(11.26)};s.e.1F=a(b,r){c 15=P 12(b,r);15.1t=9;9.27.2g(15)};g.R.s=s;g.R.v("s")}(z);!a(g){c s=g.R.s;c 1f=a(r){s.1B(9,r);9.H=o};n.U(1f,s,o);1f.e.2y=a(B,q){c 2a="H";h("3T"===2v.3U.2a.1u(":")[0]){2a="3V"}c 3m=2a+"://"+B+":"+q;c H=P 3W(3m);H.1T=9;H.3X=a(1H){9.1T.29()};H.3Y=a(1H){9.1T.3l()};H.3Z=a(1H){c X=P 1j("H X: "+1H);9.1T.2x(X)};H.40=a(1H){9.1T.1s(1H.b)};9.H=H};1f.e.28=a(){h(!9.H){l}9.H.41();9.H=o};1f.e.29=a(){s.e.29.1B(9);c 15;42(2r){15=9.3j();h(!15){2T}9.H.1F(15.b);h(15.r){15.r.1S(15.b,o,9)}}};1f.e.1F=a(b,r){h(9.3k()){9.H.1F(b);h(r){r.1S(b,o,9)}}x{s.e.1F.1B(9,b,r)}};g.R.1f=1f;g.R.v("1f")}(z);!a(g){c C=a(m,q,b){9.m=m;9.q=q;9.b=b};n.U(C,n.V.14,o);C.e.1U=a(){D.E(w,"F G!");l o};C.e.1I=a(){l 9.1U()};C.e.43=a(){l 9.1U()};C.e.44=a(3n){c b=9.b;c q=9.q;c 1v=b.J;c u,p;h(!q||q===3n){u=P 2b(1v);Z(p=0;p<1v;++p){u[p]=b[p]}}x{u=P 2b(1v+2);Z(p=0;p<1v;++p){u[p]=b[p]}u[1v]=q>>8;u[1v+1]=q&2c}l u};g.S.C=C;g.S.v("C")}(z);!a(g){c C=g.S.C;c 1g=a(m,q,b){h(b){h(!m){m=b[0]+"."+b[1]+"."+b[2]+"."+b[3];h(b.J===6){q=(b[4]<<8)|b[5]}}}x{h(m){b=P 2b(4);c u=m.1u(".");Z(c p=0;p<4;++p){b[p]=1J(u[p],10)}}x{1i 2z("3o b 3p: "+b+", "+m+", "+q)}}C.1B(9,m,q,b)};n.U(1g,C,o);1g.e.1U=a(){h(9.q===0){l 9.m}x{l 9.m+":"+9.q}};1g.2d=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;1g.3q=a(B){h(!9.2d.2A(B)){l o}c 2e=B.1u(":");c m=2e[0],q=0;h(2e.J===2){q=1J(2e[1])}l P 1g(m,q)};g.S.1g=1g;g.S.v("1g")}(z);!a(g){c C=g.S.C;c 3r=a(b,u){c Q,p=b.45;Z(c i=u.J-1;i>=0;--i){Q=u[i];b[--p]=Q}l b};c 2B=a(b,m,2C){c u,Q,p;c 19=m.1Z("::");h(19<0){u=m.1u(":");p=-1;Z(c i=0;i<2C;++i){Q=1J(u[i],16);b[++p]=Q>>8;b[++p]=Q&2c}}x{c 2D=m.1K(0,19).1u(":");p=-1;Z(c j=0;j<2D.J;++j){Q=1J(2D[j],16);b[++p]=Q>>8;b[++p]=Q&2c}c 2E=m.1K(19+2).1u(":");p=2C*2;Z(c k=2E.J-1;k>=0;--k){Q=1J(2E[k],16);b[--p]=Q&2c;b[--p]=Q>>8}}l b};c 2F=a(2f,1V){h(2f>0){h(1V>=16){l 1W(2f).1I(16)+1W(1V).1I(16)}l 1W(2f).1I(16)+"0"+1W(1V).1I(16)}x{l 1W(1V).1I(16)}};c 13=a(m,q,b){h(b){h(!m){m=2F(b[0],b[1]);Z(c p=2;p<16;p+=2){m+=":"+2F(b[p],b[p+1])}m=m.2G(/:(0:){2,}/,"::");m=m.2G(/^(0::)/,"::");m=m.2G(/(::0)$/,"::");h(b.J===18){q=(b[16]<<8)|b[17]}}}x{h(m){b=P 2b(16);c u=m.1u(".");h(u.J===1){b=2B(b,m,8)}x{h(u.J===4){c 1e=u[0];c 19=1e.46(":");u[0]=1e.1K(19+1);1e=1e.1K(0,19);b=2B(b,1e,6);b=3r(b,u)}x{1i 2z("13 1D X: "+m)}}}x{1i 2z("3o b 3p: "+b+", "+m+", "+q)}}C.1B(9,m,q,b)};n.U(13,C,o);13.e.1U=a(){h(9.q===0){l 9.m}x{l"["+9.m+"]:"+9.q}};13.2d=/^\\[?([0-2H-2I-f]{0,4}:){2,7}[0-2H-2I-f]{0,4}(]:\\d{1,5})?$/;13.3s=/^\\[?([0-2H-2I-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;13.3q=a(B){h(!9.2d.2A(B)&&!9.3s.2A(B)){l o}c m,q;h(B.47(0)==="["){c 19=B.1Z("]");m=B.1K(1,19);q=1J(B.1K(19+2))}x{m=B;q=0}l P 13(m,q)};g.S.13=13;g.S.v("13")}(z);',62,256,'|||||||||this|function|data|var||prototype||ns|if||||return|ip|DIMP|null|index|port|delegate|Fence|status|array|register|false|else|Storage|StarGate|path|host|Host|console|assert|implement|me|ws|state|length|name|Star|Delegate|Status|Machine|new|item|extensions|network|machine|Class|type|currentState|error|State|for||StarStatus|Task|IPv6|Object|task||||pos|transition|Observer|list|storage|prefix|SocketClient|IPv4|sg|throw|Error|notification|Notification|Center|key|json|FiniteStateMachine|equals|ROOT|onReceived|star|split|len|typeof|Transition|observerMap|observer|obs|call|base64|format|options|send|setStatus|ev|toString|parseInt|substring|Interface|transitions|Stopped|Running|defaultStateName|sender|userInfo|onSent|client|valueOf|lo|Number|object|Namespace|indexOf|changeState|FSM|observers|s_notification_center|getItem|removeItem|Init|waitingList|disconnect|onConnected|protocol|Uint8Array|255|patten|pair|hi|push|tick|Paused|stateMap|pause|resume|names|dim|setItem|loadText|decode|true|saveText|text|container|window|Connected|onError|connect|URIError|test|parse_v6|count|left|right|hex_encode|replace|9A|Fa|fsm|enterState|exitState|pauseState|resumeState|StateDelegate|targetStateName|target|evaluate|exists|break|onEnter|onExit|onPause|onResume|Enum|isRunning|start|stop|onReceiveNotification|removeObserver|remove|NotificationCenter|value|clear|Base64|JSON|encode|LocalStorage|SessionStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|getTask|isConnected|onClosed|url|default_port|IP|empty|parse|parse_v4|patten_compat|addTransition|default|addState|addObserver|Arrays|keys|postNotification|string|conforms|getInstance|getLength|loadData|loadJSON|saveData|saveJSON|UTF8|localStorage|fs|sessionStorage|mem|response|request|payload|onResponse|onSuccess|shift|https|location|wss|WebSocket|onopen|onclose|onerror|onmessage|close|while|toLocaleString|toArray|byteLength|lastIndexOf|charAt'.split('|'),0,{}))
