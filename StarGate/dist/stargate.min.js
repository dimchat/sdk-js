/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('j(C y!=="I"){y={}}j(C n!=="I"){n={}}j(C n.v!=="I"){n.v={}}!4(){6 e=4(d){d.18=[];d.q=4(a){3.18.S(a)};d.19=4(a){6 b=3.18;6 c;T(6 i=0;i<b.J;++i){c=b[i];a[c]=3[c]}}};e(y);e(n);e(n.v)}();!4(c){6 d=4(){};d.5.1p=4(a,b){8.9(a!==7,"U k");8.9(b!==7,"w k");8.9(o,"r s!")};d.5.1q=4(a,b){8.9(a!==7,"U k");8.9(b!==7,"w k");8.9(o,"r s!")};d.5.1r=4(a,b){8.9(a!==7,"U k");8.9(b!==7,"w k")};d.5.1s=4(a,b){8.9(a!==7,"U k");8.9(b!==7,"w k")};c.1t=d;c.q("1t")}(y);!4(b){6 c=4(a){3.1u=a};c.5.1v=4(a){8.9(a!==7,"w k");8.9(o,"r s!");m o};b.1w=c;b.q("1w")}(y);!4(c){6 d=4(){3.K=[]};d.5.29=4(a){j(3.K.1x(a)){L z("2a 1y: "+a)}3.K.S(a)};d.5.1a=4(a){6 b;T(6 i=0;i<3.K.J;++i){b=3.K[i];j(b.1v(a)){a.V(b.1u);1z}}};d.5.1A=4(a){8.9(a!==7,"w k");8.9(o,"r s!")};d.5.1B=4(a){8.9(a!==7,"w k");8.9(o,"r s!")};d.5.1C=4(a){8.9(a!==7,"w k")};d.5.1D=4(a){8.9(a!==7,"w k")};c.1E=d;c.q("1E")}(y);!4(c){6 d=t.1F.1G({M:0,N:1,1b:2});6 e=4(a){3.1H=a?a:"2b";3.u=7;3.1c={};3.l=d.M;3.p=7};e.5.2c=4(a,b){3.1c[b]=a};e.5.V=4(a){6 b=3.u;j(b){3.p.1q(b,3);b.1B(3)}b=3.1c[a];3.u=b;j(b){3.p.1p(b,3);b.1A(3)}};e.5.1a=4(){j(3.l.A(d.N)){3.u.1a()}};e.5.1I=4(){j(!3.l.A(d.M)||3.u){L z("W 1I O: "+3.l)}3.V(3.1H);3.l=d.N};e.5.1J=4(){j(3.l.A(d.M)||!3.u){L z("W 1J O: "+3.l)}3.l=d.M;3.V(7)};e.5.1d=4(){j(!3.l.A(d.N)||!3.u){L z("W 1d O: "+3.l)}3.p.1r(3.u,3);3.l=d.1b;3.u.1C(3)};e.5.1e=4(){j(!3.l.A(d.1b)||!3.u){L z("W 1e O: "+3.l)}3.p.1s(3.u,3);3.l=d.N;3.u.1D(3)};c.1K=e;c.q("1K")}(y);!4(b){6 c=4(){};c.5.1L=4(a){8.9(a!==7,"2d k");8.9(o,"r s!")};b.1M=c;b.q("1M")}(n);!4(d){6 e=4(a,b,c){3.1N=a;3.2e=b;3.2f=c};d.1f=e;d.q("1f")}(n);!4(e){6 f=e.1f;6 g=4(){3.D={}};g.5.2g=4(a,b){6 c=3.D[b];j(c){j(c.1x(a)){m}}X{c=[];3.D[b]=c}c.S(a)};g.5.1O=4(a,b){j(b){6 c=3.D[b];j(c){c.1P(a)}}X{6 d=2h.2i(3.D);T(6 i=0;i<d.J;++i){3.1O(a,d[i])}}};g.5.2j=4(a,b,c){j(C a==="2k"){a=P f(a,b,c)}6 d=3.D[a.1N];j(!d){m}T(6 i=0;i<d.J;++i){d[i].1L(a)}};6 h=7;g.2l=4(){j(!h){h=P g()}m h};e.1Q=g;e.q("1Q")}(n);!4(d){6 e={Y:"2m.2n",1y:4(a){m!!3.Z(a)},Z:4(a){m 3.10.2o(3.Y+"."+a)},2p:4(a){6 b=3.Z(a);j(!b){m 7}m t.11.1R.1S(b)},2q:4(a){6 b=3.Z(a);j(!b){m 7}m t.11.1T.1S(b)},1P:4(a){3.12(7,a)},12:4(a,b){j(a){3.10.2r(3.Y+"."+b,a)}X{3.10.2s(3.Y+"."+b)}},2t:4(a,b){6 c=7;j(a){c=t.11.1R.1U(a)}3.12(c,b)},2u:4(a,b){6 c=7;j(a){c=t.11.1T.1U(a)}3.12(c,b)}};e.10=2v.2w;d.1V=e;d.q("1V")}(n);!4(d){6 e=4(){};e.5.E=4(a,b){8.9(a!==7,"2x k");8.9(b!==7,"B k");8.9(o,"r s!")};e.5.1W=4(a,b){8.9(a!==7,"l k");8.9(b!==7,"B k");8.9(o,"r s!")};e.5.Q=4(a,b,c){8.9(a!==7,"2y k");8.9(c!==7,"B k");8.9(o,"r s!")};6 f=t.1F.1G({z:-1,13:0,1X:1,1g:2});d.1Y=e;d.1h=f;d.q("1Y");d.q("1h")}(n);!4(c){6 d=4(){};d.5.1Z=4(){8.9(o,"r s!");m 7};d.5.20=4(a){8.9(a!==7,"2z k");8.9(o,"r s!")};d.5.21=4(){8.9(o,"r s!")};d.5.1d=4(a){};d.5.1e=4(a){};d.5.F=4(a,b){8.9(a!==7,"2A k");8.9(b!==7,"p k");8.9(o,"r s!")};c.14=d;c.q("14")}(n);!4(c){6 d=c.14;6 e=4(a,b){3.G=a;3.p=b;3.B=7};e.5.2B=4(a){3.p.2C(a)};e.5.2D=4(){3.p.Q(3.G,7,3.B)};e.5.1i=4(a){3.p.Q(3.G,a,3.B)};c.v.1j=e;c.v.q("1j")}(n);!4(d){6 e=d.v.1j;6 f=d.1h;6 g=d.14;6 h=4(a){3.p=a;3.l=f.13;3.15=[]};h.22(g);h.5.E=4(a){3.p.E(a,3)};h.5.1Z=4(){m 3.l};h.5.H=4(a){j(a.A(3.l)){m}3.p.1W(a,3);3.l=a};h.5.23=4(){j(3.15.J===0){m 7}m 3.15.2E()};h.5.1k=4(a,b){8.9(a!==7,"24 k");8.9(b!==7,"25 k");8.9(o,"r s!")};h.5.16=4(){8.9(o,"r s!")};h.5.26=4(){m 3.l.A(f.1g)};h.5.17=4(){3.H(f.1g)};h.5.27=4(){3.H(f.13)};h.5.1i=4(a){3.H(f.z)};h.5.E=4(a){3.p.E(a,3)};h.5.20=4(a){3.16();3.H(f.1X);6 b=a["24"];6 c=a["25"];3.1k(b,c)};h.5.21=4(){3.16();3.H(f.13)};h.5.F=4(a,b){6 c=P e(a,b);c.B=3;3.15.S(c)};d.v.1l=h;d.v.q("1l")}(n);!4(g){6 h=g.v.1l;6 i=4(a){h.1m(3,a);3.x=7};i.22(h);i.5.1k=4(c,d){6 e="x://"+c+":"+d;6 f=P 2F(e);f.R=3;f.2G=4(a){3.R.17()};f.2H=4(a){3.R.27()};f.2I=4(a){6 b=P z("x O: "+a);3.R.1i(b)};f.2J=4(a){3.R.E(a.G)};3.x=f};i.5.16=4(a){j(!3.x){m}3.x.2K();3.x=7};i.5.17=4(){h.5.17.1m(3);6 a;2L(2M){a=3.23();j(!a){1z}3.x.F(a.G);j(a.p){a.p.Q(a.G,7,3)}}};i.5.F=4(a,b){j(3.26()){3.x.F(a);j(b){b.Q(a,7,3)}}X{h.5.F.1m(3,a,b)}};g.v.28=i;g.v.q("28")}(n);j(C t.1n!=="I"){t.1n={}}y.19(t.1n);j(C t.1o!=="I"){t.1o={}}n.19(t.1o);',62,173,'|||this|function|prototype|var|null|console|assert||||||||||if|empty|status|return|StarGate|false|delegate|includes|implement|me|DIMP|currentState|plugins|machine|ws|FiniteStateMachine|Error|equals|star|typeof|observerMap|onReceived|send|data|setStatus|object|length|transitions|throw|Stopped|Running|error|new|onFinishSend|client|push|for|state|changeState|FSM|else|ROOT|loadText|storage|format|saveText|Init|Star|waitingList|disconnect|onConnected|__all__|exports|tick|Paused|stateMap|pause|resume|Notification|Connected|StarStatus|onError|Task|connect|Fence|call|fsm|stargate|enterState|exitState|pauseState|resumeState|StateDelegate|target|evaluate|Transition|contains|exists|break|onEnter|onExit|onPause|onResume|State|type|Enum|defaultStateName|start|stop|Machine|onReceiveNotification|Observer|name|removeObserver|remove|NotificationCenter|Base64|decode|JSON|encode|LocalStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|inherits|getTask|host|port|isConnected|onClosed|SocketClient|addTransition|transition|default|addState|notification|sender|userInfo|addObserver|Object|keys|postNotification|string|getInstance|dim|file|getItem|loadData|loadJSON|setItem|removeItem|saveData|saveJSON|window|localStorage|response|request|options|payload|onResponse|onReceive|onSuccess|shift|WebSocket|onopen|onclose|onerror|onmessage|close|while|true'.split('|'),0,{}))
