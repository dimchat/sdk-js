/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b(1l V!=="1z"){V={}}b(1l w!=="1z"){w={}}!4(19,1Z){b(1l w.B!=="1z"){19.B={}}j.1A(1Z);j.1A(19);j.1A(19.B);19.q("B")}(w,V);!4(6){7 x=4(){};j.r.1m(x);x.5.20=4(k,c){9.a(k!==8,"k g");9.a(c!==8,"c g");9.a(n,"t u!")};x.5.21=4(k,c){9.a(k!==8,"k g");9.a(c!==8,"c g");9.a(n,"t u!")};x.5.22=4(k,c){9.a(k!==8,"k g");9.a(c!==8,"c g")};x.5.23=4(k,c){9.a(k!==8,"k g");9.a(c!==8,"c g")};6.24=x;6.q("24")}(V);!4(6){7 10=4(25){3.26=25};j.r.I(10);10.5.27=4(c){9.a(c!==8,"c g");9.a(n,"t u!");e n};6.10=10;6.q("10")}(V);!4(6){7 D=4(){3.1a=[]};j.r.I(D);D.5.2G=4(J){b(3.1a.28(J)){1b O("J 29: "+J)}3.1a.1B(J)};D.5.1C=4(c){7 J;1D(7 i=0;i<3.1a.1c;++i){J=3.1a[i];b(J.27(c)){c.1n(J.26);2a}}};D.5.2b=4(c){9.a(c!==8,"c g");9.a(n,"t u!")};D.5.2c=4(c){9.a(c!==8,"c g");9.a(n,"t u!")};D.5.2d=4(c){9.a(c!==8,"c g")};D.5.2e=4(c){9.a(c!==8,"c g")};6.D=D;6.q("D")}(V);!4(6){7 y=j.r.2f({1d:0,1e:1,1E:2});7 z=4(1f){3.1f=1f?1f:"2H";3.C=8;3.1F={};3.f=y.1d;3.d=8};j.r.I(z);z.5.2I=4(k,v){3.1F[v]=k};z.5.1n=4(v){7 k=3.C;b(k){3.d.21(k,3);k.2c(3)}k=3.1F[v];3.C=k;b(k){3.d.20(k,3);k.2b(3)}};z.5.2g=4(){e 3.f.W(y.1e)};z.5.1C=4(){b(3.2g()){3.C.1C(3)}};z.5.2h=4(){b(!3.f.W(y.1d)||3.C){1b O("1o 2h E: "+3.f)}3.1n(3.1f);3.f=y.1e};z.5.2i=4(){b(3.f.W(y.1d)||!3.C){1b O("1o 2i E: "+3.f)}3.f=y.1d;3.1n(8)};z.5.1G=4(){b(!3.f.W(y.1e)||!3.C){1b O("1o 1G E: "+3.f)}3.d.22(3.C,3);3.f=y.1E;3.C.2d(3)};z.5.1H=4(){b(!3.f.W(y.1E)||!3.C){1b O("1o 1H E: "+3.f)}3.d.23(3.C,3);3.f=y.1e;3.C.2e(3)};6.z=z;6.q("z")}(V);!4(6){7 11=4(){};j.r.1m(11);11.5.2j=4(K){9.a(K!==8,"K g");9.a(n,"t u!")};6.11=11;6.q("11")}(w);!4(6){7 P=4(v,1g,1h){3.v=v;3.1g=1g;3.1h=1h};j.r.I(P);6.P=P;6.q("P")}(w);!4(6){7 P=6.P;7 Q=4(){3.12={}};j.r.I(Q);Q.5.2J=4(13,v){7 L=3.12[v];b(L){b(L.28(13)){e}}1i{L=[];3.12[v]=L}L.1B(13)};Q.5.2k=4(13,v){b(v){7 L=3.12[v];b(L){j.r.2K.2l(L,13)}}1i{7 1I=2L.2M(3.12);1D(7 i=0;i<1I.1c;++i){3.2k(13,1I[i])}}};Q.5.2N=4(K,1g,1h){b(1l K==="2O"){K=X P(K,1g,1h)}7 1p=3.12[K.v];b(!1p){e}1D(7 i=0;i<1p.1c;++i){1p[i].2j(K)}};7 1q=8;Q.2P=4(){b(!1q){1q=X Q()}e 1q};6.2m=Q;6.q("2m")}(w);!4(6){7 m=4(M,1J){3.M=M;b(1J){3.Y=1J}1i{3.Y="1K"}};j.r.I(m);m.5.1r=4(R){e 3.M.1r(R)};m.5.1L=4(R,2n){3.M.1L(R,2n)};m.5.1s=4(R){3.M.1s(R)};m.5.2o=4(){3.M.2o()};m.5.2Q=4(){e 3.M.1c};m.5.R=4(2p){e 3.M.R(2p)};m.5.29=4(o){e!!3.1r(3.Y+"."+o)};m.5.1M=4(o){e 3.1r(3.Y+"."+o)};m.5.2R=4(o){7 14=3.1M(o);b(!14){e 8}e j.1t.2q.2r(14)};m.5.2S=4(o){7 15=3.1M(o);b(!15){e 8}e j.1t.2s.2r(15)};m.5.2l=4(o){3.1s(3.Y+"."+o);e 1N};m.5.1O=4(1P,o){b(1P){3.1L(3.Y+"."+o,1P);e 1N}1i{3.1s(3.Y+"."+o);e n}};m.5.2T=4(l,o){7 14=8;b(l){14=j.1t.2q.2t(l)}e 3.1O(14,o)};m.5.2U=4(1Q,o){7 15=8;b(1Q){15=j.1t.2s.2t(1Q)}e 3.1O(15,o)};6.2u=X m(1R.2V,"1K.2W");6.2v=X m(1R.2X,"1K.2Y");6.q("2u");6.q("2v")}(w);!4(6){7 x=4(){};j.r.1m(x);x.5.Z=4(1S,A){9.a(1S!==8,"1S g");9.a(A!==8,"A g");9.a(n,"t u!")};x.5.2w=4(f,A){9.a(f!==8,"f g");9.a(A!==8,"A g");9.a(n,"t u!")};x.5.1j=4(1T,E,A){9.a(1T!==8,"1T g");9.a(A!==8,"A g");9.a(n,"t u!")};7 y=j.r.2f({O:-1,1u:0,2x:1,1U:2});6.2y=x;6.F=y;6.q("2y");6.q("F")}(w);!4(6){7 s=4(){};j.r.1m(s);s.5.2z=4(){9.a(n,"t u!");e 8};s.5.2A=4(S){9.a(S!==8,"S g");9.a(n,"t u!")};s.5.2B=4(){9.a(n,"t u!")};s.5.1G=4(S){};s.5.1H=4(S){};s.5.16=4(1V,d){9.a(1V!==8,"1V g");9.a(d!==8,"d g");9.a(n,"t u!")};6.s=s;6.q("s")}(w);!4(6){7 s=6.s;7 G=4(l,d){3.l=l;3.d=d;3.A=8};j.r.I(G);G.5.2Z=4(l){3.d.Z(l)};G.5.30=4(){3.d.1j(3.l,8,3.A)};G.5.1W=4(E){3.d.1j(3.l,E,3.A)};6.B.G=G;6.B.q("G")}(w);!4(6){7 G=6.B.G;7 F=6.F;7 s=6.s;7 h=4(d){3.d=d;3.f=F.1u;3.1v=[]};j.r.I(h,8,s);h.5.Z=4(l){3.d.Z(l,3)};h.5.2z=4(){e 3.f};h.5.17=4(f){b(f.W(3.f)){e}3.d.2w(f,3);3.f=f};h.5.2C=4(){b(3.1v.1c===0){e 8}e 3.1v.31()};h.5.1X=4(T,U){9.a(T!==8,"T g");9.a(U!==8,"U g");9.a(n,"t u!")};h.5.1w=4(){9.a(n,"t u!")};h.5.2D=4(){e 3.f.W(F.1U)};h.5.1x=4(){3.17(F.1U)};h.5.2E=4(){3.17(F.1u)};h.5.1W=4(E){3.17(F.O)};h.5.Z=4(l){3.d.Z(l,3)};h.5.2A=4(S){3.1w();3.17(F.2x);7 T=S["T"];7 U=S["U"];3.1X(T,U)};h.5.2B=4(){3.1w();3.17(F.1u)};h.5.16=4(l,d){7 H=X G(l,d);H.A=3;3.1v.1B(H)};6.B.h=h;6.B.q("h")}(w);!4(6){7 h=6.B.h;7 N=4(d){h.1Y(3,d);3.p=8};j.r.I(N,h);N.5.1X=4(T,U){7 1y="p";b("32"===1R.33.1y.34(":")[0]){1y="35"}7 2F=1y+"://"+T+":"+U;7 p=X 36(2F);p.1k=3;p.37=4(18){3.1k.1x()};p.38=4(18){3.1k.2E()};p.39=4(18){7 E=X O("p E: "+18);3.1k.1W(E)};p.3a=4(18){3.1k.Z(18.l)};3.p=p};N.5.1w=4(p){b(!3.p){e}3.p.3b();3.p=8};N.5.1x=4(){h.5.1x.1Y(3);7 H;3c(1N){H=3.2C();b(!H){2a}3.p.16(H.l);b(H.d){H.d.1j(H.l,8,3)}}};N.5.16=4(l,d){b(3.2D()){3.p.16(l);b(d){d.1j(l,8,3)}}1i{h.5.16.1Y(3,l,d)}};6.B.N=N;6.B.q("N")}(w);',62,199,'|||this|function|prototype|ns|var|null|console|assert|if|machine|delegate|return|status|empty|Fence||DIMP|state|data|Storage|false|path|ws|register|type|Star|implement|me|name|StarGate|Delegate|Status|Machine|star|extensions|currentState|State|error|StarStatus|Task|task|Class|transition|notification|list|storage|SocketClient|Error|Notification|Center|key|options|host|port|FiniteStateMachine|equals|new|ROOT|onReceived|Transition|Observer|observerMap|observer|base64|json|send|setStatus|ev|sg|transitions|throw|length|Stopped|Running|defaultStateName|sender|userInfo|else|onSent|client|typeof|Interface|changeState|FSM|observers|s_notification_center|getItem|removeItem|format|Init|waitingList|disconnect|onConnected|protocol|object|namespace|push|tick|for|Paused|stateMap|pause|resume|names|prefix|dim|setItem|loadText|true|saveText|text|container|window|response|request|Connected|payload|onError|connect|call|fsm|enterState|exitState|pauseState|resumeState|StateDelegate|targetStateName|target|evaluate|contains|exists|break|onEnter|onExit|onPause|onResume|Enum|isRunning|start|stop|onReceiveNotification|removeObserver|remove|NotificationCenter|value|clear|index|Base64|decode|JSON|encode|LocalStorage|SessionStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|getTask|isConnected|onClosed|url|addTransition|default|addState|addObserver|Arrays|Object|keys|postNotification|string|getInstance|getLength|loadData|loadJSON|saveData|saveJSON|localStorage|fs|sessionStorage|mem|onResponse|onSuccess|shift|https|location|split|wss|WebSocket|onopen|onclose|onerror|onmessage|close|while'.split('|'),0,{}))
