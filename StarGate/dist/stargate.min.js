/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('j(Q y!=="17"){y={}}j(Q p!=="17"){p={}}j(Q p.u!=="17"){p.u={}}!4(){6 e=4(d){d.18=[];d.q=4(a){3.18.R(a)};d.26=4(a){6 b=3.18;6 c;S(6 i=0;i<b.H;++i){c=b[i];a[c]=3[c]}}};e(y);e(p);e(p.u)}();!4(c){6 d=4(){};d.5.1m=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k");8.9(n,"r s!")};d.5.1n=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k");8.9(n,"r s!")};d.5.1o=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k")};d.5.1p=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k")};c.1q=d;c.q("1q")}(y);!4(b){6 c=4(a){3.1r=a};c.5.1s=4(a){8.9(a!==7,"v k");8.9(n,"r s!");m n};b.1t=c;b.q("1t")}(y);!4(c){6 d=4(){3.I=[]};d.5.27=4(a){j(3.I.1u(a)){J x("28 1v: "+a)}3.I.R(a)};d.5.19=4(a){6 b;S(6 i=0;i<3.I.H;++i){b=3.I[i];j(b.1s(a)){a.U(b.1r);1w}}};d.5.1x=4(a){8.9(a!==7,"v k");8.9(n,"r s!")};d.5.1y=4(a){8.9(a!==7,"v k");8.9(n,"r s!")};d.5.1z=4(a){8.9(a!==7,"v k")};d.5.1A=4(a){8.9(a!==7,"v k")};c.1B=d;c.q("1B")}(y);!4(c){6 d=C.1C.1D({K:0,L:1,1a:2});6 e=4(a){3.1E=a?a:"29";3.t=7;3.1b={};3.l=d.K;3.o=7};e.5.2a=4(a,b){3.1b[b]=a};e.5.U=4(a){6 b=3.t;j(b){3.o.1n(b,3);b.1y(3)}b=3.1b[a];3.t=b;j(b){3.o.1m(b,3);b.1x(3)}};e.5.19=4(){j(3.l.z(d.L)){3.t.19(3)}};e.5.1F=4(){j(!3.l.z(d.K)||3.t){J x("V 1F M: "+3.l)}3.U(3.1E);3.l=d.L};e.5.1G=4(){j(3.l.z(d.K)||!3.t){J x("V 1G M: "+3.l)}3.l=d.K;3.U(7)};e.5.1c=4(){j(!3.l.z(d.L)||!3.t){J x("V 1c M: "+3.l)}3.o.1o(3.t,3);3.l=d.1a;3.t.1z(3)};e.5.1d=4(){j(!3.l.z(d.1a)||!3.t){J x("V 1d M: "+3.l)}3.o.1p(3.t,3);3.l=d.L;3.t.1A(3)};c.1H=e;c.q("1H")}(y);!4(b){6 c=4(){};c.5.1I=4(a){8.9(a!==7,"2b k");8.9(n,"r s!")};b.1J=c;b.q("1J")}(p);!4(d){6 e=4(a,b,c){3.1K=a;3.2c=b;3.2d=c};d.1e=e;d.q("1e")}(p);!4(e){6 f=e.1e;6 g=4(){3.D={}};g.5.2e=4(a,b){6 c=3.D[b];j(c){j(c.1u(a)){m}}W{c=[];3.D[b]=c}c.R(a)};g.5.1L=4(a,b){j(b){6 c=3.D[b];j(c){c.1M(a)}}W{6 d=2f.2g(3.D);S(6 i=0;i<d.H;++i){3.1L(a,d[i])}}};g.5.2h=4(a,b,c){j(Q a==="2i"){a=N f(a,b,c)}6 d=3.D[a.1K];j(!d){m}S(6 i=0;i<d.H;++i){d[i].1I(a)}};6 h=7;g.2j=4(){j(!h){h=N g()}m h};e.1N=g;e.q("1N")}(p);!4(d){6 e={X:"/2k/2l",1v:4(a){m!!3.Y(a)},Y:4(a){m 3.Z.2m(3.X+"/"+a)},2n:4(a){6 b=3.Y(a);j(!b){m 7}m C.10.1O.1P(b)},2o:4(a){6 b=3.Y(a);j(!b){m 7}m C.10.1Q.1P(b)},1M:4(a){3.11(7,a)},11:4(a,b){j(a){3.Z.2p(3.X+"."+b,a)}W{3.Z.2q(3.X+"."+b)}},2r:4(a,b){6 c=7;j(a){c=C.10.1O.1R(a)}3.11(c,b)},2s:4(a,b){6 c=7;j(a){c=C.10.1Q.1R(a)}3.11(c,b)}};e.Z=2t.2u;d.1S=e;d.q("1S")}(p);!4(d){6 e=4(){};e.5.A=4(a,b){8.9(a!==7,"2v k");8.9(b!==7,"B k");8.9(n,"r s!")};e.5.1T=4(a,b){8.9(a!==7,"l k");8.9(b!==7,"B k");8.9(n,"r s!")};e.5.O=4(a,b,c){8.9(a!==7,"2w k");8.9(c!==7,"B k");8.9(n,"r s!")};6 f=C.1C.1D({x:-1,12:0,1U:1,1f:2});d.1V=e;d.1g=f;d.q("1V");d.q("1g")}(p);!4(c){6 d=4(){};d.5.1W=4(){8.9(n,"r s!");m 7};d.5.1X=4(a){8.9(a!==7,"2x k");8.9(n,"r s!")};d.5.1Y=4(){8.9(n,"r s!")};d.5.1c=4(a){};d.5.1d=4(a){};d.5.E=4(a,b){8.9(a!==7,"2y k");8.9(b!==7,"o k");8.9(n,"r s!")};c.13=d;c.q("13")}(p);!4(c){6 d=c.13;6 e=4(a,b){3.F=a;3.o=b;3.B=7};e.5.2z=4(a){3.o.A(a)};e.5.2A=4(){3.o.O(3.F,7,3.B)};e.5.1h=4(a){3.o.O(3.F,a,3.B)};c.u.1i=e;c.u.q("1i")}(p);!4(d){6 e=d.u.1i;6 f=d.1g;6 g=d.13;6 h=4(a){3.o=a;3.l=f.12;3.14=[]};h.1Z(g);h.5.A=4(a){3.o.A(a,3)};h.5.1W=4(){m 3.l};h.5.G=4(a){j(a.z(3.l)){m}3.o.1T(a,3);3.l=a};h.5.20=4(){j(3.14.H===0){m 7}m 3.14.2B()};h.5.1j=4(a,b){8.9(a!==7,"21 k");8.9(b!==7,"22 k");8.9(n,"r s!")};h.5.15=4(){8.9(n,"r s!")};h.5.23=4(){m 3.l.z(f.1f)};h.5.16=4(){3.G(f.1f)};h.5.24=4(){3.G(f.12)};h.5.1h=4(a){3.G(f.x)};h.5.A=4(a){3.o.A(a,3)};h.5.1X=4(a){3.15();3.G(f.1U);6 b=a["21"];6 c=a["22"];3.1j(b,c)};h.5.1Y=4(){3.15();3.G(f.12)};h.5.E=4(a,b){6 c=N e(a,b);c.B=3;3.14.R(c)};d.u.1k=h;d.u.q("1k")}(p);!4(g){6 h=g.u.1k;6 i=4(a){h.1l(3,a);3.w=7};i.1Z(h);i.5.1j=4(c,d){6 e="w://"+c+":"+d;6 f=N 2C(e);f.P=3;f.2D=4(a){3.P.16()};f.2E=4(a){3.P.24()};f.2F=4(a){6 b=N x("w M: "+a);3.P.1h(b)};f.2G=4(a){3.P.A(a.F)};3.w=f};i.5.15=4(a){j(!3.w){m}3.w.2H();3.w=7};i.5.16=4(){h.5.16.1l(3);6 a;2I(2J){a=3.20();j(!a){1w}3.w.E(a.F);j(a.o){a.o.O(a.F,7,3)}}};i.5.E=4(a,b){j(3.23()){3.w.E(a);j(b){b.O(a,7,3)}}W{h.5.E.1l(3,a,b)}};g.u.25=i;g.u.q("25")}(p);',62,170,'|||this|function|prototype|var|null|console|assert||||||||||if|empty|status|return|false|delegate|StarGate|includes|implement|me|currentState|plugins|machine|ws|Error|FiniteStateMachine|equals|onReceived|star|DIMP|observerMap|send|data|setStatus|length|transitions|throw|Stopped|Running|error|new|onSent|client|typeof|push|for|state|changeState|FSM|else|ROOT|loadText|storage|format|saveText|Init|Star|waitingList|disconnect|onConnected|object|__all__|tick|Paused|stateMap|pause|resume|Notification|Connected|StarStatus|onError|Task|connect|Fence|call|enterState|exitState|pauseState|resumeState|StateDelegate|target|evaluate|Transition|contains|exists|break|onEnter|onExit|onPause|onResume|State|type|Enum|defaultStateName|start|stop|Machine|onReceiveNotification|Observer|name|removeObserver|remove|NotificationCenter|Base64|decode|JSON|encode|LocalStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|inherits|getTask|host|port|isConnected|onClosed|SocketClient|exports|addTransition|transition|default|addState|notification|sender|userInfo|addObserver|Object|keys|postNotification|string|getInstance|dim|file|getItem|loadData|loadJSON|setItem|removeItem|saveData|saveJSON|window|localStorage|response|request|options|payload|onResponse|onSuccess|shift|WebSocket|onopen|onclose|onerror|onmessage|close|while|true'.split('|'),0,{}))
