/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b(1j R!=="1w"){R={}}b(1j u!=="1w"){u={}}!4(15,1W){b(1j u.x!=="1w"){15.x={}}G.1x(1W);G.1x(15);G.1x(15.x);15.p("x")}(u,R);!4(6){7 A=4(){};A.5.1X=4(j,c){9.a(j!==8,"j g");9.a(c!==8,"c g");9.a(l,"q r!")};A.5.1Y=4(j,c){9.a(j!==8,"j g");9.a(c!==8,"c g");9.a(l,"q r!")};A.5.1Z=4(j,c){9.a(j!==8,"j g");9.a(c!==8,"c g")};A.5.20=4(j,c){9.a(j!==8,"j g");9.a(c!==8,"c g")};6.21=A;6.p("21")}(R);!4(6){7 16=4(22){3.23=22};16.5.24=4(c){9.a(c!==8,"c g");9.a(l,"q r!");e l};6.16=16;6.p("16")}(R);!4(6){7 D=4(){3.17=[]};D.5.2F=4(H){b(3.17.25(H)){18 M("H 26: "+H)}3.17.1y(H)};D.5.1z=4(c){7 H;1A(7 i=0;i<3.17.19;++i){H=3.17[i];b(H.24(c)){c.1k(H.23);27}}};D.5.28=4(c){9.a(c!==8,"c g");9.a(l,"q r!")};D.5.29=4(c){9.a(c!==8,"c g");9.a(l,"q r!")};D.5.2a=4(c){9.a(c!==8,"c g")};D.5.2b=4(c){9.a(c!==8,"c g")};6.D=D;6.p("D")}(R);!4(6){7 v=G.2c.2d({1a:0,1b:1,1B:2});7 y=4(1c){3.1c=1c?1c:"2G";3.z=8;3.1C={};3.f=v.1a;3.d=8};y.5.2H=4(j,t){3.1C[t]=j};y.5.1k=4(t){7 j=3.z;b(j){3.d.1Y(j,3);j.29(3)}j=3.1C[t];3.z=j;b(j){3.d.1X(j,3);j.28(3)}};y.5.2e=4(){e 3.f.S(v.1b)};y.5.1z=4(){b(3.2e()){3.z.1z(3)}};y.5.2f=4(){b(!3.f.S(v.1a)||3.z){18 M("1l 2f B: "+3.f)}3.1k(3.1c);3.f=v.1b};y.5.2g=4(){b(3.f.S(v.1a)||!3.z){18 M("1l 2g B: "+3.f)}3.f=v.1a;3.1k(8)};y.5.1D=4(){b(!3.f.S(v.1b)||!3.z){18 M("1l 1D B: "+3.f)}3.d.1Z(3.z,3);3.f=v.1B;3.z.2a(3)};y.5.1E=4(){b(!3.f.S(v.1B)||!3.z){18 M("1l 1E B: "+3.f)}3.d.20(3.z,3);3.f=v.1b;3.z.2b(3)};6.y=y;6.p("y")}(R);!4(6){7 1d=4(){};1d.5.2h=4(I){9.a(I!==8,"I g");9.a(l,"q r!")};6.1d=1d;6.p("1d")}(u);!4(6){7 T=4(t,1e,1f){3.t=t;3.1e=1e;3.1f=1f};6.T=T;6.p("T")}(u);!4(6){7 T=6.T;7 U=4(){3.Y={}};U.5.2I=4(Z,t){7 J=3.Y[t];b(J){b(J.25(Z)){e}}1g{J=[];3.Y[t]=J}J.1y(Z)};U.5.2i=4(Z,t){b(t){7 J=3.Y[t];b(J){J.2j(Z)}}1g{7 1F=2J.2K(3.Y);1A(7 i=0;i<1F.19;++i){3.2i(Z,1F[i])}}};U.5.2L=4(I,1e,1f){b(1j I==="2M"){I=V T(I,1e,1f)}7 1m=3.Y[I.t];b(!1m){e}1A(7 i=0;i<1m.19;++i){1m[i].2h(I)}};7 1n=8;U.2N=4(){b(!1n){1n=V U()}e 1n};6.2k=U;6.p("2k")}(u);!4(6){7 m=4(K,1G){3.K=K;b(1G){3.W=1G}1g{3.W="1H"}};m.5.1o=4(N){e 3.K.1o(N)};m.5.1I=4(N,2l){3.K.1I(N,2l)};m.5.1p=4(N){3.K.1p(N)};m.5.2m=4(){3.K.2m()};m.5.2O=4(){e 3.K.19};m.5.N=4(2n){e 3.K.N(2n)};m.5.26=4(n){e!!3.1o(3.W+"."+n)};m.5.1J=4(n){e 3.1o(3.W+"."+n)};m.5.2P=4(n){7 10=3.1J(n);b(!10){e 8}e G.1q.2o.2p(10)};m.5.2Q=4(n){7 11=3.1J(n);b(!11){e 8}e G.1q.2q.2p(11)};m.5.2j=4(n){3.1p(3.W+"."+n);e 1K};m.5.1L=4(1M,n){b(1M){3.1I(3.W+"."+n,1M);e 1K}1g{3.1p(3.W+"."+n);e l}};m.5.2R=4(k,n){7 10=8;b(k){10=G.1q.2o.2r(k)}e 3.1L(10,n)};m.5.2S=4(1N,n){7 11=8;b(1N){11=G.1q.2q.2r(1N)}e 3.1L(11,n)};6.2s=V m(1O.2T,"1H.2U");6.2t=V m(1O.2V,"1H.2W");6.p("2s");6.p("2t")}(u);!4(6){7 A=4(){};A.5.X=4(1P,w){9.a(1P!==8,"1P g");9.a(w!==8,"w g");9.a(l,"q r!")};A.5.2u=4(f,w){9.a(f!==8,"f g");9.a(w!==8,"w g");9.a(l,"q r!")};A.5.1h=4(1Q,B,w){9.a(1Q!==8,"1Q g");9.a(w!==8,"w g");9.a(l,"q r!")};7 v=G.2c.2d({M:-1,1r:0,2v:1,1R:2});6.2w=A;6.C=v;6.p("2w");6.p("C")}(u);!4(6){7 s=4(){};s.5.2x=4(){9.a(l,"q r!");e 8};s.5.2y=4(O){9.a(O!==8,"O g");9.a(l,"q r!")};s.5.2z=4(){9.a(l,"q r!")};s.5.1D=4(O){};s.5.1E=4(O){};s.5.12=4(1S,d){9.a(1S!==8,"1S g");9.a(d!==8,"d g");9.a(l,"q r!")};6.s=s;6.p("s")}(u);!4(6){7 s=6.s;7 E=4(k,d){3.k=k;3.d=d;3.w=8};E.5.2X=4(k){3.d.X(k)};E.5.2Y=4(){3.d.1h(3.k,8,3.w)};E.5.1T=4(B){3.d.1h(3.k,B,3.w)};6.x.E=E;6.x.p("E")}(u);!4(6){7 E=6.x.E;7 C=6.C;7 s=6.s;7 h=4(d){3.d=d;3.f=C.1r;3.1s=[]};h.2A(s);h.5.X=4(k){3.d.X(k,3)};h.5.2x=4(){e 3.f};h.5.13=4(f){b(f.S(3.f)){e}3.d.2u(f,3);3.f=f};h.5.2B=4(){b(3.1s.19===0){e 8}e 3.1s.2Z()};h.5.1U=4(P,Q){9.a(P!==8,"P g");9.a(Q!==8,"Q g");9.a(l,"q r!")};h.5.1t=4(){9.a(l,"q r!")};h.5.2C=4(){e 3.f.S(C.1R)};h.5.1u=4(){3.13(C.1R)};h.5.2D=4(){3.13(C.1r)};h.5.1T=4(B){3.13(C.M)};h.5.X=4(k){3.d.X(k,3)};h.5.2y=4(O){3.1t();3.13(C.2v);7 P=O["P"];7 Q=O["Q"];3.1U(P,Q)};h.5.2z=4(){3.1t();3.13(C.1r)};h.5.12=4(k,d){7 F=V E(k,d);F.w=3;3.1s.1y(F)};6.x.h=h;6.x.p("h")}(u);!4(6){7 h=6.x.h;7 L=4(d){h.1V(3,d);3.o=8};L.2A(h);L.5.1U=4(P,Q){7 1v="o";b("30"===1O.31.1v.32(":")[0]){1v="33"}7 2E=1v+"://"+P+":"+Q;7 o=V 34(2E);o.1i=3;o.35=4(14){3.1i.1u()};o.36=4(14){3.1i.2D()};o.37=4(14){7 B=V M("o B: "+14);3.1i.1T(B)};o.38=4(14){3.1i.X(14.k)};3.o=o};L.5.1t=4(o){b(!3.o){e}3.o.39();3.o=8};L.5.1u=4(){h.5.1u.1V(3);7 F;3a(1K){F=3.2B();b(!F){27}3.o.12(F.k);b(F.d){F.d.1h(F.k,8,3)}}};L.5.12=4(k,d){b(3.2C()){3.o.12(k);b(d){d.1h(k,8,3)}}1g{h.5.12.1V(3,k,d)}};6.x.L=L;6.x.p("L")}(u);',62,197,'|||this|function|prototype|ns|var|null|console|assert|if|machine|delegate|return|status|empty|Fence||state|data|false|Storage|path|ws|register|implement|me|Star|name|StarGate|Status|star|extensions|Machine|currentState|Delegate|error|StarStatus|State|Task|task|DIMP|transition|notification|list|storage|SocketClient|Error|key|options|host|port|FiniteStateMachine|equals|Notification|Center|new|ROOT|onReceived|observerMap|observer|base64|json|send|setStatus|ev|sg|Transition|transitions|throw|length|Stopped|Running|defaultStateName|Observer|sender|userInfo|else|onSent|client|typeof|changeState|FSM|observers|s_notification_center|getItem|removeItem|format|Init|waitingList|disconnect|onConnected|protocol|object|namespace|push|tick|for|Paused|stateMap|pause|resume|names|prefix|dim|setItem|loadText|true|saveText|text|container|window|response|request|Connected|payload|onError|connect|call|fsm|enterState|exitState|pauseState|resumeState|StateDelegate|targetStateName|target|evaluate|contains|exists|break|onEnter|onExit|onPause|onResume|type|Enum|isRunning|start|stop|onReceiveNotification|removeObserver|remove|NotificationCenter|value|clear|index|Base64|decode|JSON|encode|LocalStorage|SessionStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|inherits|getTask|isConnected|onClosed|url|addTransition|default|addState|addObserver|Object|keys|postNotification|string|getInstance|getLength|loadData|loadJSON|saveData|saveJSON|localStorage|fs|sessionStorage|mem|onResponse|onSuccess|shift|https|location|split|wss|WebSocket|onopen|onclose|onerror|onmessage|close|while'.split('|'),0,{}))
