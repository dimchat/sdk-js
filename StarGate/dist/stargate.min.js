/**
 *  StarGate (v0.2.0)
 *  (Interfaces for network connection)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      May. 7, 2022
 * @copyright (c) 2022 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"19"!==I Y&&(Y=v A.1a);"19"!==I 1q&&(1q=v A.1a);(i(f,m){"19"!==I f.H&&(f.H=v m.1a);"19"!==I f.y&&(f.y=v m.1a);f.z("H");f.z("y")})(D,A);(i(f,m){s h=m.Z.38,g=m.Z.39,b=i(c,a){J.w(9);9.L=c;9.Q=a?a:"1r"};m.C(b,J,u,u);b.o.1b=i(c){j 9.L.1b(c)};b.o.1s=i(c,a){9.L.1s(c,a)};b.o.1c=i(c){9.L.1c(c)};b.o.2i=i(){9.L.2i()};b.o.3a=i(){j 9.L.B};b.o.2j=i(c){j 9.L.2j(c)};b.o.3b=i(c){j!!9.1b(9.Q+"."+c)};b.o.1t=i(c){j 9.1b(9.Q+"."+c)};b.o.3c=i(c){j(c=9.1t(c))?g.2k(c):u};b.o.3d=i(c){j(c=9.1t(c))?h.2k(c):u};b.o.M=i(c){9.1c(9.Q+"."+c);j!0};b.o.1u=i(c,a){x(c)j 9.1s(9.Q+"."+a,c),!0;9.1c(9.Q+"."+a);j!1};b.o.3e=i(c,a){s d=u;c&&(d=g.R(c));j 9.1u(d,a)};b.o.3f=i(c,a){s d=u;c&&(d=h.R(c));j 9.1u(d,a)};f.2l=v b(1v.3g,"1r.3h");f.2m=v b(1v.3i,"1r.3j");f.z("2l");f.z("2m")})(1q,A);(i(f,m){s h=i(g,b,c){J.w(9);9.1w=g;9.2n=b;9.2o=c};m.C(h,J,u,u);f.1x=h;f.z("1x")})(Y,A);(i(f,m){s h=i(){};m.2p(h,u);h.o.2q=i(g){K.2r(!1,"3k 3l!")};f.1y=h;f.z("1y")})(Y,A);(i(f,m){s h=m.1d.3m,g=m.1d.3n,b=f.1x,c=f.1y,a=i(){J.w(9);9.S=v g};m.C(a,J,u,u);a.o.3o=i(e,l){s k=9.S.1z(l);x(k){x(0<=k.1A(e))j}E k=[],9.S.3p(l,k);k.1B(e)};a.o.2s=i(e,l){x(l)(l=9.S.1z(l))&&h.M(l,e);E{l=9.S.3q();F(s k=0;k<l.B;++k)9.2s(e,l[k])}};a.o.3r=i(e,l,k){"1C"===I e&&(e=v b(e,l,k));x(l=9.S.1z(e.1w))F(s n=0;n<l.B;++n)x(k=l[n],m.2p.3s(k,c))k.2q(e);E"i"===I k&&k.w(e,e.1w,e.2n,e.2o)};s d=u;a.3t=i(){d||(d=v a);j d};f.2t=a;f.z("2t")})(Y,A);(i(f,m){s h=m.1d.3u,g=i(b,c,a,d){h.w(9,b);9.3v=c;9.1D=a;9.11=d};m.C(g,h,u,u);g.o.3w=i(b){s c=9.11,a=9.1D,d=c.B,e;x(a&&a!==b){b=v T(d+2);F(e=0;e<d;++e)b[e]=c[e];b[d]=a>>8;b[d+1]=a&1e}E F(b=v T(d),e=0;e<d;++e)b[e]=c[e];j b};f.H.1f=g;f.H.z("1f")})(D,A);(i(f,m){s h=f.1f,g=i(b,c,a){x(a)b||(b=a[0]+"."+a[1]+"."+a[2]+"."+a[3],6===a.B&&(c=a[4]<<8|a[5]));E x(b){a=v T(4);F(s d=b.N("."),e=0;4>e;++e)a[e]=U(d[e],10)}E 1E v 1F("2u 11 2v: "+a+", "+b+", "+c);h.w(9,0===c?b:b+":"+c,b,c,a)};m.C(g,h,u);g.1g=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;g.2w=i(b){x(!9.1g.1G(b))j u;b=b.N(":");s c=b[0],a=0;2===b.B&&(a=U(b[1]));j v g(c,a)};f.H.2x=g;f.H.z("2x")})(D,A);(i(f,m){s h=f.1f,g=i(a,d,e){s l=d.1A("::");x(0>l){d=d.N(":");s k=-1;F(l=0;l<e;++l){s n=U(d[l],16);a[++k]=n>>8;a[++k]=n&1e}}E{s r=d.V(0,l).N(":");k=-1;F(s p=0;p<r.B;++p)n=U(r[p],16),a[++k]=n>>8,a[++k]=n&1e;d=d.V(l+2).N(":");k=2*e;F(e=d.B-1;0<=e;--e)n=U(d[e],16),a[--k]=n&1e,a[--k]=n>>8}j a},b=i(a,d){j 0<a?16<=d?12(a).G(16)+12(d).G(16):12(a).G(16)+"0"+12(d).G(16):12(d).G(16)},c=i(a,d,e){x(e){x(!a){a=b(e[0],e[1]);F(s l=2;16>l;l+=2)a+=":"+b(e[l],e[l+1]);a=a.1H(/:(0:){2,}/,"::");a=a.1H(/^(0::)/,"::");a=a.1H(/(::0)$/,"::");18===e.B&&(d=e[16]<<8|e[17])}}E x(a)x(e=v T(16),l=a.N("."),1===l.B)e=g(e,a,8);E x(4===l.B){s k=l[0],n=k.3x(":");l[0]=k.V(n+1);k=k.V(0,n);e=g(e,k,6);n=e.3y;F(s r=l.B-1;0<=r;--r)k=l[r],e[--n]=k}E 1E v 1F("1I Z O: "+a);E 1E v 1F("2u 11 2v: "+e+", "+a+", "+d);h.w(9,0===d?a:"["+a+"]:"+d,a,d,e)};m.C(c,h,u);c.1g=/^\\[?([0-1J-1K-f]{0,4}:){2,7}[0-1J-1K-f]{0,4}(]:\\d{1,5})?$/;c.2y=/^\\[?([0-1J-1K-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;c.2w=i(a){x(!9.1g.1G(a)&&!9.2y.1G(a))j u;x("["===a.3z(0)){s d=a.1A("]");s e=a.V(1,d);a=U(a.V(d+2))}E e=a,a=0;j v c(e,a)};f.H.1I=c;f.H.z("1I")})(D,A);(i(f,m){s h=f.3A,g=i(b,c){h.w(9,c);9.2z=b};m.C(g,h,u,u);g.o.1L=i(){j 9.2z};g.o.2A=i(){j u};g.o.3B=i(b){K.2r(b===9,"3C 3D O",b,9);j b};f.1M=g;f.z("1M")})(D,A);(i(f,m){s h=f.3E,g=i(b,c){c||(c=0);h.w(9,c,h.3F);9.2B=b;9.2C=[b]};m.C(g,h,u,u);g.o.1L=i(){j 9.2B};g.o.2A=i(){j u};g.o.3G=i(){j 9.2C};g.o.3H=i(b){j!1};f.1N=g;f.z("1N")})(D,A);(i(f,m){s h=m.Z.2D,g=f.1D.3I,b=f.3J,c=f.1M,a=f.1N,d=i(p){b.w(9,p)};m.C(d,b,u,{P:i(p,q){p=9.2E(p,q);j 9.3K(p)},2F:i(p){j 9.P(p,g.1O.3L.1P())},3M:i(){l();9.P(k,g.1O.2G.1P())},3N:i(p){j p&&0!==p.B?9.2H(p):u},3O:i(p){s q=p.1L();x(4===q.B)x(l(),e(q,k))9.P(n,g.1O.2G.1P());E x(e(q,n)||e(q,r))j u;j p}});d.o.2H=i(p){j v c(p,u)};d.o.2E=i(p,q){j v a(p,q)};s e=i(p,q){x(p.B!==q.B)j!1;F(s t=p.B-1;0<=t;--t)x(p[t]!==q[t])j!1;j!0},l=i(){"1C"===I k&&(k=h.R(k),n=h.R(n),r=h.R(r))},k="3P",n="3Q",r="3R";f.1Q=d;f.z("1Q")})(D,A);(i(f,m){s h=i(b,c){b=v 2I(b);b.3S=i(a){c.2J()};b.3T=i(a){c.2K()};b.3U=i(a){c.2L(3V("2I O: "+a))};b.3W=i(a){(a=a.11)&&0!==a.B&&("1C"===I a?a=m.Z.2D.R(a):a 3X T||(a=v T(a)),c.2M(a))};j b},g=i(){J.w(9);9.1h=[];9.1R=9.1S=!1;9.1T=9.1U=9.W=9.1i=9.1j=u};m.C(g,J,u);g.o.2N=i(){j 9.1j};g.o.2O=i(){j 9.1i};g.o.2J=i(){9.1S=!0};g.o.2K=i(){9.1R=!0};g.o.2L=i(b){};g.o.2M=i(b){9.1h.1B(b)};g.o.1V=i(){};g.o.3Y=i(){j!1};g.o.1k=i(){j!9.1R};g.o.2P=i(){j 9.1S};g.o.2Q=i(){j!0};g.o.3Z=i(){j 9.1k()&&(9.2P()||9.2Q())};g.o.X=i(){j 9.1U};g.o.1l=i(){j 9.1T};g.o.2R=i(b){9.1T=b};g.o.1W=i(b){9.1U=u;9.1m();9.1j=b.2N();9.1i=b.2O();b=9.1j;s c=9.1i;b="40"===1v.41.42.N(":")[0]?"43://"+b+":"+c:"y://"+b+":"+c;9.W=h(b,9)};g.o.1m=i(){9.W&&(9.W.1m(),9.W=u)};g.o.1X=i(b){j 0<9.1h.B?9.1h.44():u};g.o.1Y=i(b){9.W.P(b);j b.B};g.o.2S=i(b){j 9.1X(b)};g.o.P=i(b,c){j 9.1Y(b)};f.y.1Z=g;f.y.z("1Z")})(D,A);(i(f,m){s h=f.13.45,g=f.13.46,b=i(a){h.w(9,a)};m.C(b,h,u,{2S:i(a){j 9.1X(a)}});s c=i(a){g.w(9,a)};m.C(c,g,u,{P:i(a,d){j 9.1Y(a)}});f.y.20=b;f.y.21=c;f.y.z("20");f.y.z("21")})(D,A);(i(f,m){s h=f.13.47,g=f.y.20,b=f.y.21,c=i(a,d,e){h.w(9,a,d,e)};m.C(c,h,u,{48:i(){j v g(9)},49:i(){j v b(9)}});f.y.22=c;f.y.z("22")})(D,A);(i(f,m){s h=f.1d.4a,g=f.13.4b,b=f.y.22,c=i(){h.w(9)};m.C(c,h,u,{23:i(d,e,l){s k=9.2T(d,e);k&&k!==l&&9.M(d,e,k);h.o.23.w(9,d,e,l)},M:i(d,e,l){s k=h.o.M.w(9,d,e,l);x(k&&k.1k())24{k.1m()}25(n){K.O("26::M()",n,d,e,l,k)}j k}});s a=i(d){g.w(9,d);9.14=9.2U()};m.C(a,g,u,u);a.o.2U=i(){j v c};a.o.2V=i(d,e,l){j v b(d,e,l)};a.o.4c=i(){j 9.14.4d()};a.o.2W=i(d,e){j 9.14.2T(d,e)};a.o.2X=i(d,e,l){9.14.23(d,e,l)};a.o.4e=i(d,e,l){9.14.M(d,e,l)};a.o.27=i(d,e){j 9.2W(d,e)};f.y.26=c;f.y.28=a;f.y.z("26");f.y.z("28")})(D,A);(i(f,m){s h=f.13.4f,g=f.y.28,b=f.y.1Z,c=i(a){g.w(9,a)};m.C(c,g,u,{4g:i(a,d,e){a=v h(a,d,e,9);a.2Y(9.2Z());a.29();j a},27:i(a,d){s e=g.o.27.w(9,a,d);x(!e){24{s l=d,k=v b;k.1V(!0);l&&k.2R(l);k.1W(a);k.1V(!1);d||(d=k.1l());e=9.2V(a,d,k)}25(n){K.O("2a::4h()",n,a,d),e=u}e&&9.2X(e.X(),e.1l(),e)}j e}});f.y.2a=c;f.y.z("2a")})(D,A);(i(f,m){s h=f.4i,g=i(b){h.w(9,b);9.2b=u};m.C(g,h,u,{4j:i(b){9.2b=b},2c:i(){j 9.2b},30:i(b,c,a){s d=9.2d(b,c);!d&&(b=9.2c().1W(b,c))&&(d=9.31(b,a),9.1n(d.X(),d.1l(),d));j d},2d:i(b,c){j h.o.2d.w(9,b,u)},1n:i(b,c,a){j h.o.1n.w(9,b,u,a)},32:i(b,c,a){j h.o.1n.32(9,b,u,a)},4k:i(b,c){c=[];b&&0<b.B&&c.1B(b);j c},4l:i(b){}});f.2e=g;f.z("2e")})(D,A);(i(f,m){s h=m.4m.4n,g=f.2e,b=i(c){g.w(9,c);9.1o=v h(9)};m.C(b,g,u,{33:i(){j 9.1o.33()},29:i(){9.2f();9.1o.29()},2f:i(){9.1o.2f()},4o:i(){9.15();j!0},15:i(){24{s c=9.2c().15(),a=g.o.15.w(9);j c||a}25(d){j K.O("1p::15()",d),!1}}});f.1p=b;f.z("1p")})(D,A);(i(f,m){s h=f.1p,g=f.1Q,b=i(c){h.w(9,c)};m.C(b,h,u,{4p:i(c,a,d){j(a=9.30(a,d,u))&&a.1k()?a.2F(c):!1},31:i(c,a){c=v g(c);c.2Y(9.2Z());j c},34:i(c,a,d){h.o.34.w(9,c,a,d);(d=d.X())&&(d=d.G());c&&(c=c.G());a&&(a=a.G());K.2g("2h 4q 4r: ",c,a,d)},35:i(c,a,d){h.o.35.w(9,c,a,d);(d=d.X())&&(d=d.G());K.2g("2h 4s: ",c,a,d)},36:i(c,a){h.o.36.w(9,c,a);(a=a.X())&&(a=a.G());K.2g("2h O: ",c,a)}});f.37=b;f.z("37")})(D,A);',62,277,'|||||||||this|||||||||function|return|||||prototype||||var||null|new|call|if|ws|registers|MONKEY|length|Class|StarTrek|else|for|toString|network|typeof|Object|console|storage|remove|split|error|send|ROOT|encode|__observers|Uint8Array|parseInt|substring|__ws|getRemoteAddress|LocalNotificationService|format||data|Number|socket|__channelPool|process||||object|Namespace|getItem|removeItem|type|255|Host|patten|__packages|__port|__host|isOpen|getLocalAddress|close|setDocker|__daemon|AutoGate|FileSystem|dim|setItem|loadText|saveText|window|name|Notification|Observer|getValue|indexOf|push|string|port|throw|URIError|test|replace|IPv6|9A|Fa|getPackage|PlainArrival|PlainDeparture|Priority|valueOf|PlainDocker|__closed|__connected|__local|__remote|configureBlocking|connect|read|write|Socket|StreamChannelReader|StreamChannelWriter|StreamChannel|set|try|catch|ChannelPool|open|StreamHub|start|StreamClientHub|__hub|getHub|getDocker|BaseGate|stop|info|connection|clear|key|decode|LocalStorage|SessionStorage|sender|userInfo|Interface|onReceiveNotification|assert|removeObserver|NotificationCenter|IP|empty|parse|IPv4|patten_compat|__data|getSN|__completed|__fragments|UTF8|createDeparture|sendData|SLOWER|createArrival|WebSocket|onConnected|onClosed|onError|onReceived|getHost|getPort|isConnected|isBound|bind|receive|get|createChannelPool|createChannel|getChannel|setChannel|setDelegate|getDelegate|fetchDocker|createDocker|removeDocker|isRunning|onConnectionStateChanged|onConnectionFailed|onConnectionError|WSGate|JSON|Base64|getLength|exists|loadData|loadJSON|saveData|saveJSON|localStorage|fs|sessionStorage|mem|implement|me|Arrays|Dictionary|addObserver|setValue|allKeys|postNotification|conforms|getInstance|ConstantString|ip|toArray|lastIndexOf|byteLength|charAt|ArrivalShip|assemble|plain|arrival|DepartureShip|DISPOSABLE|getFragments|checkResponse|Departure|StarDocker|sendShip|NORMAL|heartbeat|getArrival|checkArrival|PING|PONG|NOOP|onopen|onclose|onerror|Error|onmessage|instanceof|isBlocking|isAlive|https|location|protocol|wss|shift|ChannelReader|ChannelWriter|BaseChannel|createReader|createWriter|AddressPairMap|BaseHub|allChannels|allValues|removeChannel|ActiveConnection|createConnection|createSocketChannel|StarGate|setHub|cacheAdvanceParty|clearAdvanceParty|threading|Thread|run|sendMessage|state|changed|failed'.split('|'),0,{}));
