/**
 *  StarGate (v0.2.2)
 *  (Interfaces for network connection)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 14, 2023
 * @copyright (c) 2023 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"R"!==H y&&(y=36);(i(g){"R"!==H g.29&&(g.29=2a);"R"!==H g.1c&&(g.1c={});"R"!==H g.F&&(g.F={});"R"!==H g.J&&(g.J={});"R"!==H g.D&&(g.D={})})(y);(i(g,d){s k=d.z.C,h=d.11.37,e=d.11.38;d=i(a,b){I.v(9);9.K=a;9.S=b?b:"1u"};k(d,I,u,u);d.o.1d=i(a){j 9.K.1d(a)};d.o.1v=i(a,b){9.K.1v(a,b)};d.o.1e=i(a){9.K.1e(a)};d.o.2b=i(){9.K.2b()};d.o.39=i(){j 9.K.A};d.o.2c=i(a){j 9.K.2c(a)};d.o.3a=i(a){j!!9.1d(9.S+"."+a)};d.o.1w=i(a){j 9.1d(9.S+"."+a)};d.o.3b=i(a){j(a=9.1w(a))?e.2d(a):u};d.o.3c=i(a){j(a=9.1w(a))?h.2d(a):u};d.o.L=i(a){9.1e(9.S+"."+a);j!0};d.o.1x=i(a,b){x(a)j 9.1v(9.S+"."+b,a),!0;9.1e(9.S+"."+b);j!1};d.o.3d=i(a,b){s c=u;a&&(c=e.T(a));j 9.1x(c,b)};d.o.3e=i(a,b){s c=u;a&&(c=h.T(a));j 9.1x(c,b)};g.1c.3f=w d(1y.3g,"1u.3h");g.1c.3i=w d(1y.3j,"1u.3k")})(y,B);(i(g,d){d=d.z.C;s k=i(h,e,a){I.v(9);9.2e=h;9.2f=e;9.2g=a};d(k,I,u,u);g.F.1z=k})(y,B);(i(g,d){d=d.z.3l;d=d(u,u);d.o.2h=i(k){12 1A("2i");};g.F.3m=d})(y,B);(i(g,d){s k=d.z.C,h=d.z.3n;d=i(){I.v(9);9.M={}};k(d,I,u,u);d.o.1B=i(a,b){s c=9.M[b];x(!c)c=[],9.M[b]=c;E x(0<=c.1C(a))j;c.1f(a)};d.o.1D=i(a,b){x(b)e.v(9,a,b);E{b=I.3o(9.M);G(s c=b.A-1;0<=c;--c)e.v(9,a,b[c])}};s e=i(a,b){s c=9.M[b];c&&(h.L(c,a),0===c.A&&3p 9.M[b])};d.o.13=i(a,b,c){12 1A("2i");};d.o.1g=i(a){s b=a.2e,c=a.2f,f=a.2g;s l=(l=9.M[b])?l.3q():[];G(s m,n=l.A-1;0<=n;--n){m=l[n];1E{x("i"===H m)m.v(a,b,c,f);E m.2h(a)}1F(q){1h.N("2j::1g() N",a,m,q)}}};g.F.1G=d})(y,B);(i(g,d){s k=d.z.C,h=g.F.1G,e=g.F.1z;d=i(){h.v(9)};k(d,h,u,{13:i(a,b,c){"1i"===H a&&(a=w e(a,b,c));9.1g(a)}});k={1B:i(a,b){9.14.1B(a,b)},1D:i(a,b){9.14.1D(a,b)},13:i(a,b,c){9.14.13(a,b,c)},3r:i(){j 9.14},14:w d};g.F.2j=d;g.F.3s=k})(y,B);(i(g,d,k){k=k.z.C;s h=d.3t.3u,e=g.F.1G,a=g.F.1z,b=i(){e.v(9);9.1H=[];9.O=!1;9.U=u};k(b,e,[d.3v.3w],{13:i(c,f,l){"1i"===H c&&(c=w a(c,f,l));9.1H.1f(c)},3x:i(){G(;9.1I();)x(!9.2k())j!0;j!1},2k:i(){s c=9.1H.2l();j c?(9.1g(c),!0):!1}});b.o.1j=i(){s c=9.U;c&&(9.U=u,c.1k());9.O=!0;c=w h(9);c.1j();9.U=c};b.o.1k=i(){s c=9.U;c&&(9.U=u,c.1k())};b.o.1I=i(){j 9.O};g.F.3y=b})(y,2a,B);(i(g,d){s k=d.z.C,h=d.z.3z;d=i(e,a,b,c){h.v(9,e);9.3A=a;9.1J=b;9.15=c};k(d,h,u,u);d.o.3B=i(e){s a=9.15,b=9.1J,c=a.A,f;x(b&&b!==e){e=w V(c+2);G(f=0;f<c;++f)e[f]=a[f];e[c]=b>>8;e[c+1]=b&1l}E G(e=w V(c),f=0;f<c;++f)e[f]=a[f];j e};g.J.1K=d})(y,B);(i(g,d){d=d.z.C;s k=g.J.1K,h=i(e,a,b){x(b)e||(e=b[0]+"."+b[1]+"."+b[2]+"."+b[3],6===b.A&&(a=b[4]<<8|b[5]));E x(e){b=w V(4);G(s c=e.P("."),f=0;4>f;++f)b[f]=W(c[f],10)}E 12 w 1L("2m 15 2n: "+b+", "+e+", "+a);k.v(9,0===a?e:e+":"+a,e,a,b)};d(h,k,u);h.1m=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;h.2o=i(e){x(!9.1m.1M(e))j u;e=e.P(":");s a=e[0],b=0;2===e.A&&(b=W(e[1]));j w h(a,b)};g.J.3C=h})(y,B);(i(g,d){d=d.z.C;s k=g.J.1K,h=i(b,c,f){s l=c.1C("::");x(0>l){c=c.P(":");s m=-1;G(l=0;l<f;++l){s n=W(c[l],16);b[++m]=n>>8;b[++m]=n&1l}}E{s q=c.X(0,l).P(":");m=-1;G(s p=0;p<q.A;++p)n=W(q[p],16),b[++m]=n>>8,b[++m]=n&1l;c=c.X(l+2).P(":");m=2*f;G(f=c.A-1;0<=f;--f)n=W(c[f],16),b[--m]=n&1l,b[--m]=n>>8}j b},e=i(b,c){j 0<b?16<=c?19(b).1a(16)+19(c).1a(16):19(b).1a(16)+"0"+19(c).1a(16):19(c).1a(16)},a=i(b,c,f){x(f){x(!b){b=e(f[0],f[1]);G(s l=2;16>l;l+=2)b+=":"+e(f[l],f[l+1]);b=b.1N(/:(0:){2,}/,"::");b=b.1N(/^(0::)/,"::");b=b.1N(/(::0)$/,"::");18===f.A&&(c=f[16]<<8|f[17])}}E x(b)x(f=w V(16),l=b.P("."),1===l.A)f=h(f,b,8);E x(4===l.A){s m=l[0],n=m.3D(":");l[0]=m.X(n+1);m=m.X(0,n);f=h(f,m,6);n=f.3E;G(s q=l.A-1;0<=q;--q)m=l[q],f[--n]=m}E 12 w 1L("2p 11 N: "+b);E 12 w 1L("2m 15 2n: "+f+", "+b+", "+c);k.v(9,0===c?b:"["+b+"]:"+c,b,c,f)};d(a,k,u);a.1m=/^\\[?([0-1O-1P-f]{0,4}:){2,7}[0-1O-1P-f]{0,4}(]:\\d{1,5})?$/;a.2q=/^\\[?([0-1O-1P-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;a.2o=i(b){x(!9.1m.1M(b)&&!9.2q.1M(b))j u;x("["===b.3F(0)){s c=b.1C("]");s f=b.X(1,c);b=W(b.X(c+2))}E f=b,b=0;j w a(f,b)};g.J.2p=a})(y,B);(i(g,d){s k=d.z.C,h=i(a,b){a=w 2r(a);a.3G=i(c){b.2s()};a.3H=i(c){b.2t()};a.3I=i(c){b.2u(1A("2r N: "+c))};a.3J=i(c){(c=c.15)&&0!==c.A&&("1i"===H c?c=d.11.2v.T(c):c 2w V||(c=w V(c)),b.2x(c))};j a},e=i(){I.v(9);9.1n=[];9.1Q=9.1R=!1;9.1S=9.1T=9.Y=9.1o=9.1p=u};k(e,I,u);e.o.2y=i(){j 9.1p};e.o.2z=i(){j 9.1o};e.o.2s=i(){9.1R=!0};e.o.2t=i(){9.1Q=!0};e.o.2u=i(a){};e.o.2x=i(a){9.1n.1f(a)};e.o.1U=i(){};e.o.3K=i(){j!1};e.o.1q=i(){j!9.1Q};e.o.2A=i(){j 9.1R};e.o.2B=i(){j!0};e.o.3L=i(){j 9.1q()&&(9.2A()||9.2B())};e.o.1V=i(){j 9.1T};e.o.1r=i(){j 9.1S};e.o.2C=i(a){9.1S=a};e.o.1W=i(a){9.1T=u;9.1s();9.1p=a.2y();9.1o=a.2z();a=9.1p;s b=9.1o;a="3M"===1y.3N.3O.P(":")[0]?"3P://"+a+":"+b:"D://"+a+":"+b;9.Y=h(a,9)};e.o.1s=i(){9.Y&&(9.Y.1s(),9.Y=u)};e.o.1X=i(a){j 0<9.1n.A?9.1n.2l():u};e.o.1Y=i(a){9.Y.Q(a);j a.A};e.o.2D=i(a){j 9.1X(a)};e.o.Q=i(a,b){j 9.1Y(a)};g.D.2E=e})(y,B);(i(g,d){d=d.z.C;s k=g.Z.3Q,h=g.Z.3R,e=g.Z.3S,a=i(f){k.v(9,f)};d(a,k,u,{2D:i(f){j 9.1X(f)}});s b=i(f){h.v(9,f)};d(b,h,u,{Q:i(f,l){j 9.1Y(f)}});s c=i(f,l,m){e.v(9,f,l,m)};d(c,e,u,{3T:i(){j w a(9)},3U:i(){j w b(9)}});g.D.3V=a;g.D.3W=b;g.D.2F=c})(y,B);(i(g,d){d=d.z.C;s k=g.z.3X,h=g.Z.3Y,e=g.D.2F,a=i(){k.v(9)};d(a,k,u,{1Z:i(c,f,l){s m=9.2G(c,f);m&&m!==l&&9.L(c,f,m);k.o.1Z.v(9,c,f,l)},L:i(c,f,l){s m=k.o.L.v(9,c,f,l);x(m&&m.1q())1E{m.1s()}1F(n){1h.N("2H::L()",n,c,f,l,m)}j m}});s b=i(c){h.v(9,c);9.1b=9.2I()};d(b,h,u,u);b.o.2I=i(){j w a};b.o.2J=i(c,f,l){j w e(c,f,l)};b.o.3Z=i(){j 9.1b.40()};b.o.20=i(c,f){j 9.1b.2G(c,f)};b.o.2K=i(c,f,l){9.1b.1Z(c,f,l)};b.o.41=i(c,f,l){9.1b.L(c,f,l)};b.o.1t=i(c,f){j 9.20(c,f)};g.D.2H=a;g.D.2L=b})(y,B);(i(g,d){d=d.z.C;s k=g.Z.2M,h=g.D.2L,e=g.D.2E,a=i(b){h.v(9,b)};d(a,h,u,{42:i(b,c,f){b=w k(b,c,f,9);b.2N(9.2O());b.1j();j b},1t:i(b,c){s f=h.o.1t.v(9,b,c);x(!f){1E{s l=c,m=w e;m.1U(!0);l&&m.2C(l);m.1W(b);m.1U(!1);c||(c=m.1r());f=9.2J(b,c,m)}1F(n){1h.N("2P::43()",b,c,n),f=u}f&&9.2K(f.1V(),f.1r(),f)}j f}});g.D.2P=a})(y,B);(i(g,d){d=d.z.C;s k=g.44,h=i(e,a){a||(a=(w 45).46());k.v(9,a);9.2Q=e};d(h,k,u,u);h.o.21=i(){j 9.2Q};h.o.2R=i(){j u};h.o.47=i(e){1h.48(e===9,"49 4a N",e,9);j e};g.2S=h})(y,B);(i(g,d){d=d.z.C;s k=g.4b,h=i(e,a){a||(a=0);k.v(9,a,1);9.2T=e;9.2U=[e]};d(h,k,u,u);h.o.21=i(){j 9.2T};h.o.2R=i(){j u};h.o.4c=i(){j 9.2U};h.o.4d=i(e){j!1};h.o.4e=i(e){j!1};g.2V=h})(y,B);(i(g,d){s k=d.z.C,h=d.11.2v,e=g.1J.4f,a=g.4g,b=g.2S,c=g.2V;d=i(p){a.v(9,p)};k(d,a,u,{Q:i(p,r){p=9.2W(p,r);j 9.4h(p)},2X:i(p){j 9.Q(p,e.22.4i.23())},24:i(){l();9.Q(m,e.22.2Y.23())},4j:i(p){j p&&0!==p.A?9.2Z(p):u},4k:i(p){s r=p.21();x(4===r.A)x(l(),f(r,m))9.Q(n,e.22.2Y.23());E x(f(r,n)||f(r,q))j u;j p}});d.o.2Z=i(p){j w b(p,u)};d.o.2W=i(p,r){j w c(p,r)};s f=i(p,r){x(p.A!==r.A)j!1;G(s t=p.A-1;0<=t;--t)x(p[t]!==r[t])j!1;j!0},l=i(){"1i"===H m&&(m=h.T(m),n=h.T(n),q=h.T(q))},m="4l",n="4m",q="4n";g.30=d})(y,B);(i(g,d){d=d.z.C;s k=g.Z.2M,h=g.y,e=i(a){h.v(9,a);9.25=u};d(e,h,u,{4o:i(a){9.25=a},26:i(){j 9.25},31:i(a,b,c){s f=9.27(a,b);!f&&(a=9.26().1W(a,b))&&(f=9.32(a,c),9.28(f.1V(),f.1r(),f));j f},27:i(a,b){j h.o.27.v(9,a,u)},28:i(a,b,c){j h.o.28.v(9,a,u,c)},33:i(a,b,c){j h.o.33.v(9,a,u,c)},24:i(a){a 2w k&&h.o.24.v(9,a)},4p:i(a,b){b=[];a&&0<a.A&&b.1f(a);j b},4q:i(a){}});g.34=e})(y,B);(i(g,d){d=d.z.C;s k=g.34,h=i(e){k.v(9,e);9.O=!1};d(h,k,u,{1I:i(){j 9.O},1j:i(){9.O=!0},1k:i(){9.O=!1},20:i(e,a){j 9.26().1t(e,a)},4r:i(e,a,b){j(a=9.31(a,b,u))&&a.1q()?a.2X(e):!1}});g.35=h})(y,B);(i(g,d){d=d.z.C;s k=g.35,h=g.30,e=i(a){k.v(9,a)};d(e,k,u,{32:i(a,b){a=w h(a);a.2N(9.2O());j a}});g.4s=e})(y,B);',62,277,'|||||||||this|||||||||function|return|||||prototype||||var||null|call|new|if|StarGate|type|length|MONKEY|Class|ws|else|lnc|for|typeof|Object|network|storage|remove|__observers|error|__running|split|send|object|ROOT|encode|__thread|Uint8Array|parseInt|substring|__ws|socket||format|throw|postNotification|defaultCenter|data||||Number|toString|__channelPool|dos|getItem|removeItem|push|post|console|string|start|stop|255|patten|__packages|__port|__host|isOpen|getLocalAddress|close|open|dim|setItem|loadText|saveText|window|Notification|Error|addObserver|indexOf|removeObserver|try|catch|BaseCenter|__notifications|isRunning|port|Host|URIError|test|replace|9A|Fa|__closed|__connected|__local|__remote|configureBlocking|getRemoteAddress|connect|read|write|set|getChannel|getPackage|Priority|valueOf|heartbeat|__hub|getHub|getDocker|setDocker|fsm|FiniteStateMachine|clear|key|decode|name|sender|userInfo|onReceiveNotification|NotImplemented|DefaultCenter|process|shift|IP|empty|parse|IPv6|patten_compat|WebSocket|onConnected|onClosed|onError|UTF8|instanceof|onReceived|getHost|getPort|isConnected|isBound|bind|receive|Socket|StreamChannel|get|ChannelPool|createChannelPool|createChannel|setChannel|StreamHub|ActiveConnection|setDelegate|getDelegate|ClientHub|__data|getSN|PlainArrival|__completed|__fragments|PlainDeparture|createDeparture|sendData|SLOWER|createArrival|PlainDocker|fetchDocker|createDocker|removeDocker|BaseGate|CommonGate|StarTrek|JSON|Base64|getLength|exists|loadData|loadJSON|saveData|saveJSON|LocalStorage|localStorage|fs|SessionStorage|sessionStorage|mem|Interface|Observer|Arrays|keys|delete|slice|getInstance|NotificationCenter|threading|Thread|skywalker|Runnable|run|AsyncCenter|ConstantString|ip|toArray|IPv4|lastIndexOf|byteLength|charAt|onopen|onclose|onerror|onmessage|isBlocking|isAlive|https|location|protocol|wss|ChannelReader|ChannelWriter|BaseChannel|createReader|createWriter|StreamChannelReader|StreamChannelWriter|AddressPairMap|BaseHub|allChannels|values|removeChannel|createConnection|createSocketChannel|ArrivalShip|Date|getTime|assemble|assert|plain|arrival|DepartureShip|getFragments|checkResponse|isImportant|Departure|StarDocker|sendShip|NORMAL|getArrival|checkArrival|PING|PONG|NOOP|setHub|cacheAdvanceParty|clearAdvanceParty|sendMessage|WSClientGate'.split('|'),0,{}));
