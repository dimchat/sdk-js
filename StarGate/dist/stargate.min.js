/**
 *  StarGate (v0.1.0)
 *  (Interfaces for network connection)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Mar. 10, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h(1H 1m!=="1V"){1m={}}h(1H y!=="1V"){y={}}!a(1g,2H){h(1H y.R!=="1V"){1g.R={}}h(1H y.S!=="1V"){1g.S={}}n.1W(2H);n.1W(1g);n.1W(1g.R);n.1W(1g.S);1g.v("R");1g.v("S")}(y,1m);!a(g){e M=a(){};n.1X(M,o);M.c.2I=a(I,T){D.E(w,"F G!")};M.c.2J=a(I,T){D.E(w,"F G!")};M.c.2K=a(I,T){};M.c.2L=a(I,T){};g.2M=M;g.v("2M")}(1m);!a(g){e 1u=a(2N){9.2O=2N};n.U(1u,n.V.14,o);1u.c.2P=a(T){D.E(w,"F G!");l w};g.1u=1u;g.v("1u")}(1m);!a(g){e Y=a(){9.1I=[]};n.U(Y,n.V.14,o);Y.c.3s=a(1a){h(9.1I.1Y(1a)>=0){1h 1i("1a 2Q: "+1a)}9.1I.2f(1a)};Y.c.2g=a(T){e 1a;Z(e i=0;i<9.1I.J;++i){1a=9.1I[i];h(1a.2P(T)){T.1Z(1a.2O);2R}}};Y.c.2S=a(T){D.E(w,"F G!")};Y.c.2T=a(T){D.E(w,"F G!")};Y.c.2U=a(T){};Y.c.2V=a(T){};g.Y=Y;g.v("Y")}(1m);!a(g){e N=n.V.2W(o,{1J:0,1K:1,2h:2});e O=a(1L){9.1L=1L?1L:"3t";9.W=o;9.2i={};9.t=N.1J;9.r=o};n.U(O,n.V.14,o);O.c.3u=a(I,K){9.2i[K]=I};O.c.1Z=a(K){e I=9.W;h(I){9.r.2J(I,9);I.2T(9)}I=9.2i[K];9.W=I;h(I){9.r.2I(I,9);I.2S(9)}};O.c.2X=a(){l 9.t.1n(N.1K)};O.c.2g=a(){h(9.2X()){9.W.2g(9)}};O.c.2Y=a(){h(!9.t.1n(N.1J)||9.W){1h 1i("20 2Y X: "+9.t)}9.1Z(9.1L);9.t=N.1K};O.c.2Z=a(){h(9.t.1n(N.1J)||!9.W){1h 1i("20 2Z X: "+9.t)}9.t=N.1J;9.1Z(o)};O.c.2j=a(){h(!9.t.1n(N.1K)||!9.W){1h 1i("20 2j X: "+9.t)}9.r.2K(9.W,9);9.t=N.2h;9.W.2U(9)};O.c.2k=a(){h(!9.t.1n(N.2h)||!9.W){1h 1i("20 2k X: "+9.t)}9.r.2L(9.W,9);9.t=N.1K;9.W.2V(9)};g.O=O;g.v("O")}(1m);!a(g){e 1v=a(){};n.1X(1v,o);1v.c.30=a(1o){D.E(w,"F G!")};g.1v=1v;g.v("1v")}(y);!a(g){e 1j=a(K,1M,1N){9.K=K;9.1M=1M;9.1N=1N};n.U(1j,n.V.14,o);g.1j=1j;g.v("1j")}(y);!a(g){e 1j=g.1j;e 1k=a(){9.1w={}};n.U(1k,n.V.14,o);1k.c.3v=a(1x,K){e 1b=9.1w[K];h(1b){h(1b.1Y(1x)>=0){l}}z{1b=[];9.1w[K]=1b}1b.2f(1x)};1k.c.31=a(1x,K){h(K){e 1b=9.1w[K];h(1b){n.V.3w.32(1b,1x)}}z{e 2l=14.3x(9.1w);Z(e i=0;i<2l.J;++i){9.31(1x,2l[i])}}};1k.c.3y=a(1o,1M,1N){h(1H 1o==="3z"){1o=P 1j(1o,1M,1N)}e 21=9.1w[1o.K];h(!21){l}Z(e i=0;i<21.J;++i){21[i].30(1o)}};e 22=o;1k.3A=a(){h(!22){22=P 1k()}l 22};g.33=1k;g.v("33")}(y);!a(g){e x=a(1c,1d){9.1c=1c;h(1d){9.1p=1d}z{9.1p="2m"}};n.U(x,n.V.14,o);x.c.23=a(1l){l 9.1c.23(1l)};x.c.2n=a(1l,34){9.1c.2n(1l,34)};x.c.24=a(1l){9.1c.24(1l)};x.c.35=a(){9.1c.35()};x.c.3B=a(){l 9.1c.J};x.c.1l=a(p){l 9.1c.1l(p)};x.c.2Q=a(A){l!!9.23(9.1p+"."+A)};x.c.2o=a(A){l 9.23(9.1p+"."+A)};x.c.3C=a(A){e 1y=9.2o(A);h(!1y){l o}l n.1O.36.37(1y)};x.c.3D=a(A){e 1z=9.2o(A);h(!1z){l o}l n.1O.38.37(1z)};x.c.32=a(A){9.24(9.1p+"."+A);l 2p};x.c.2q=a(2r,A){h(2r){9.2n(9.1p+"."+A,2r);l 2p}z{9.24(9.1p+"."+A);l w}};x.c.3E=a(b,A){e 1y=o;h(b){1y=n.1O.36.39(b)}l 9.2q(1y,A)};x.c.3F=a(2s,A){e 1z=o;h(2s){1z=n.1O.38.39(2s)}l 9.2q(1z,A)};g.3a=P x(2t.3G,"2m.3H");g.3b=P x(2t.3I,"2m.3J");g.v("3a");g.v("3b")}(y);!a(g){e M=a(){};n.1X(M,o);M.c.1q=a(3K,1r){D.E(w,"F G!")};M.c.3c=a(t,1r){D.E(w,"F G!")};M.c.1P=a(3L,X,1r){D.E(w,"F G!")};e N=n.V.2W(o,{1i:-1,25:0,3d:1,2u:2});g.3e=M;g.11=N;g.v("3e");g.v("11")}(y);!a(g){e L=a(){};n.1X(L,o);L.c.3f=a(){D.E(w,"F G!");l o};L.c.3g=a(1A){D.E(w,"F G!")};L.c.3h=a(){D.E(w,"F G!")};L.c.2j=a(1A){};L.c.2k=a(1A){};L.c.1B=a(3M,r){D.E(w,"F G!")};g.L=L;g.v("L")}(y);!a(g){e 12=a(b,r){9.b=b;9.r=r;9.1r=o};n.U(12,n.V.14,o);12.c.3N=a(b){9.r.1q(b)};12.c.3O=a(){9.r.1P(9.b,o,9.1r)};12.c.2v=a(X){9.r.1P(9.b,X,9.1r)};g.R.12=12;g.R.v("12")}(y);!a(g){e 12=g.R.12;e 11=g.11;e L=g.L;e s=a(r){9.r=r;9.t=11.25;9.26=[]};n.U(s,n.V.14,[L]);s.c.1q=a(b){9.r.1q(b,9)};s.c.3f=a(){l 9.t};s.c.1C=a(t){h(t.1n(9.t)){l}9.r.3c(t,9);9.t=t};s.c.3i=a(){h(9.26.J===0){l o}l 9.26.3P()};s.c.2w=a(B,q){D.E(w,"F G!")};s.c.27=a(){D.E(w,"F G!")};s.c.3j=a(){l 9.t.1n(11.2u)};s.c.28=a(){9.1C(11.2u)};s.c.3k=a(){9.1C(11.25)};s.c.2v=a(X){9.1C(11.1i)};s.c.1q=a(b){9.r.1q(b,9)};s.c.3g=a(1A){9.27();9.1C(11.3d);e B=1A["B"];e q=1A["q"];9.2w(B,q)};s.c.3h=a(){9.27();9.1C(11.25)};s.c.1B=a(b,r){e 15=P 12(b,r);15.1r=9;9.26.2f(15)};g.R.s=s;g.R.v("s")}(y);!a(g){e s=g.R.s;e 1e=a(r){s.1Q(9,r);9.H=o};n.U(1e,s,o);1e.c.2w=a(B,q){e 29="H";h("3Q"===2t.3R.29.1s(":")[0]){29="3S"}e 3l=29+"://"+B+":"+q;e H=P 3T(3l);H.1R=9;H.3U=a(1D){9.1R.28()};H.3V=a(1D){9.1R.3k()};H.3W=a(1D){e X=P 1i("H X: "+1D);9.1R.2v(X)};H.3X=a(1D){9.1R.1q(1D.b)};9.H=H};1e.c.27=a(){h(!9.H){l}9.H.3Y();9.H=o};1e.c.28=a(){s.c.28.1Q(9);e 15;3Z(2p){15=9.3i();h(!15){2R}9.H.1B(15.b);h(15.r){15.r.1P(15.b,o,9)}}};1e.c.1B=a(b,r){h(9.3j()){9.H.1B(b);h(r){r.1P(b,o,9)}}z{s.c.1B.1Q(9,b,r)}};g.R.1e=1e;g.R.v("1e")}(y);!a(g){e C=a(m,q,b){9.m=m;9.q=q;9.b=b};n.U(C,n.V.14,o);C.c.1S=a(){D.E(w,"F G!");l o};C.c.1E=a(){l 9.1S()};C.c.40=a(){l 9.1S()};C.c.41=a(3m){e b=9.b;e q=9.q;e 1t=b.J;e u,p;h(!q||q===3m){u=P 2a(1t);Z(p=0;p<1t;++p){u[p]=b[p]}}z{u=P 2a(1t+2);Z(p=0;p<1t;++p){u[p]=b[p]}u[1t]=q>>8;u[1t+1]=q&2b}l u};g.S.C=C;g.S.v("C")}(y);!a(g){e C=g.S.C;e 1f=a(m,q,b){h(b){h(!m){m=b[0]+"."+b[1]+"."+b[2]+"."+b[3];h(b.J===6){q=(b[4]<<8)|b[5]}}}z{h(m){b=P 2a(4);e u=m.1s(".");Z(e p=0;p<4;++p){b[p]=1F(u[p],10)}}z{1h 2x("3n b 3o: "+b+", "+m+", "+q)}}C.1Q(9,m,q,b)};n.U(1f,C,o);1f.c.1S=a(){h(9.q===0){l 9.m}z{l 9.m+":"+9.q}};1f.2c=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;1f.3p=a(B){h(!9.2c.2y(B)){l o}e 2d=B.1s(":");e m=2d[0],q=0;h(2d.J===2){q=1F(2d[1])}l P 1f(m,q)};g.S.1f=1f;g.S.v("1f")}(y);!a(g){e C=g.S.C;e 3q=a(b,u){e Q,p=b.42;Z(e i=u.J-1;i>=0;--i){Q=u[i];b[--p]=Q}l b};e 2z=a(b,m,2A){e u,Q,p;e 19=m.1Y("::");h(19<0){u=m.1s(":");p=-1;Z(e i=0;i<2A;++i){Q=1F(u[i],16);b[++p]=Q>>8;b[++p]=Q&2b}}z{e 2B=m.1G(0,19).1s(":");p=-1;Z(e j=0;j<2B.J;++j){Q=1F(2B[j],16);b[++p]=Q>>8;b[++p]=Q&2b}e 2C=m.1G(19+2).1s(":");p=2A*2;Z(e k=2C.J-1;k>=0;--k){Q=1F(2C[k],16);b[--p]=Q&2b;b[--p]=Q>>8}}l b};e 2D=a(2e,1T){h(2e>0){h(1T>=16){l 1U(2e).1E(16)+1U(1T).1E(16)}l 1U(2e).1E(16)+"0"+1U(1T).1E(16)}z{l 1U(1T).1E(16)}};e 13=a(m,q,b){h(b){h(!m){m=2D(b[0],b[1]);Z(e p=2;p<16;p+=2){m+=":"+2D(b[p],b[p+1])}m=m.2E(/:(0:){2,}/,"::");m=m.2E(/^(0::)/,"::");m=m.2E(/(::0)$/,"::");h(b.J===18){q=(b[16]<<8)|b[17]}}}z{h(m){b=P 2a(16);e u=m.1s(".");h(u.J===1){b=2z(b,m,8)}z{h(u.J===4){e 1d=u[0];e 19=1d.43(":");u[0]=1d.1G(19+1);1d=1d.1G(0,19);b=2z(b,1d,6);b=3q(b,u)}z{1h 2x("13 1O X: "+m)}}}z{1h 2x("3n b 3o: "+b+", "+m+", "+q)}}C.1Q(9,m,q,b)};n.U(13,C,o);13.c.1S=a(){h(9.q===0){l 9.m}z{l"["+9.m+"]:"+9.q}};13.2c=/^\\[?([0-2F-2G-f]{0,4}:){2,7}[0-2F-2G-f]{0,4}(]:\\d{1,5})?$/;13.3r=/^\\[?([0-2F-2G-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;13.3p=a(B){h(!9.2c.2y(B)&&!9.3r.2y(B)){l o}e m,q;h(B.44(0)==="["){e 19=B.1Y("]");m=B.1G(1,19);q=1F(B.1G(19+2))}z{m=B;q=0}l P 13(m,q)};g.S.13=13;g.S.v("13")}(y);',62,253,'|||||||||this|function|data|prototype||var||ns|if||||return|ip|DIMP|null|index|port|delegate|Fence|status|array|register|false|Storage|StarGate|else|path|host|Host|console|assert|implement|me|ws|state|length|name|Star|Delegate|Status|Machine|new|item|extensions|network|machine|Class|type|currentState|error|State|for||StarStatus|Task|IPv6|Object|task||||pos|transition|list|storage|prefix|SocketClient|IPv4|sg|throw|Error|Notification|Center|key|FiniteStateMachine|equals|notification|ROOT|onReceived|star|split|len|Transition|Observer|observerMap|observer|base64|json|options|send|setStatus|ev|toString|parseInt|substring|typeof|transitions|Stopped|Running|defaultStateName|sender|userInfo|format|onSent|call|client|valueOf|lo|Number|object|Namespace|Interface|indexOf|changeState|FSM|observers|s_notification_center|getItem|removeItem|Init|waitingList|disconnect|onConnected|protocol|Uint8Array|255|patten|pair|hi|push|tick|Paused|stateMap|pause|resume|names|dim|setItem|loadText|true|saveText|text|container|window|Connected|onError|connect|URIError|test|parse_v6|count|left|right|hex_encode|replace|9A|Fa|fsm|enterState|exitState|pauseState|resumeState|StateDelegate|targetStateName|target|evaluate|exists|break|onEnter|onExit|onPause|onResume|Enum|isRunning|start|stop|onReceiveNotification|removeObserver|remove|NotificationCenter|value|clear|Base64|decode|JSON|encode|LocalStorage|SessionStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|getTask|isConnected|onClosed|url|default_port|IP|empty|parse|parse_v4|patten_compat|addTransition|default|addState|addObserver|Arrays|keys|postNotification|string|getInstance|getLength|loadData|loadJSON|saveData|saveJSON|localStorage|fs|sessionStorage|mem|response|request|payload|onResponse|onSuccess|shift|https|location|wss|WebSocket|onopen|onclose|onerror|onmessage|close|while|toLocaleString|toArray|byteLength|lastIndexOf|charAt'.split('|'),0,{}))
