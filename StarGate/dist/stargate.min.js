/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('l(1I 1q!=="1W"){1q={}}l(1I E!=="1W"){E={}}!a(1j,2L){l(1I E.U!=="1W"){1j.U={}}l(1I E.V!=="1W"){1j.V={}}r.1X(2L);r.1X(1j);r.1X(1j.U);r.1X(1j.V);1j.A("U");1j.A("V")}(E,1q);!a(h){e O=a(){};r.1Y(O,g);O.c.2M=a(y,t){n.o(y!==g,"y v");n.o(t!==g,"t v");n.o(C,"I J!")};O.c.2N=a(y,t){n.o(y!==g,"y v");n.o(t!==g,"t v");n.o(C,"I J!")};O.c.2O=a(y,t){n.o(y!==g,"y v");n.o(t!==g,"t v")};O.c.2P=a(y,t){n.o(y!==g,"y v");n.o(t!==g,"t v")};h.2Q=O;h.A("2Q")}(1q);!a(h){e 1w=a(2R){9.2S=2R};r.W(1w,r.Z.1b,g);1w.c.2T=a(t){n.o(t!==g,"t v");n.o(C,"I J!");m C};h.1w=1w;h.A("1w")}(1q);!a(h){e 11=a(){9.1J=[]};r.W(11,r.Z.1b,g);11.c.3v=a(1c){l(9.1J.1Z(1c)>=0){1k 1l("1c 2U: "+1c)}9.1J.2g(1c)};11.c.2h=a(t){e 1c;12(e i=0;i<9.1J.L;++i){1c=9.1J[i];l(1c.2T(t)){t.20(1c.2S);2V}}};11.c.2W=a(t){n.o(t!==g,"t v");n.o(C,"I J!")};11.c.2X=a(t){n.o(t!==g,"t v");n.o(C,"I J!")};11.c.2Y=a(t){n.o(t!==g,"t v")};11.c.2Z=a(t){n.o(t!==g,"t v")};h.11=11;h.A("11")}(1q);!a(h){e P=r.Z.30({1K:0,1L:1,2i:2});e Q=a(1M){9.1M=1M?1M:"3w";9.X=g;9.2j={};9.w=P.1K;9.u=g};r.W(Q,r.Z.1b,g);Q.c.3x=a(y,M){9.2j[M]=y};Q.c.20=a(M){e y=9.X;l(y){9.u.2N(y,9);y.2X(9)}y=9.2j[M];9.X=y;l(y){9.u.2M(y,9);y.2W(9)}};Q.c.31=a(){m 9.w.1r(P.1L)};Q.c.2h=a(){l(9.31()){9.X.2h(9)}};Q.c.32=a(){l(!9.w.1r(P.1K)||9.X){1k 1l("21 32 Y: "+9.w)}9.20(9.1M);9.w=P.1L};Q.c.33=a(){l(9.w.1r(P.1K)||!9.X){1k 1l("21 33 Y: "+9.w)}9.w=P.1K;9.20(g)};Q.c.2k=a(){l(!9.w.1r(P.1L)||!9.X){1k 1l("21 2k Y: "+9.w)}9.u.2O(9.X,9);9.w=P.2i;9.X.2Y(9)};Q.c.2l=a(){l(!9.w.1r(P.2i)||!9.X){1k 1l("21 2l Y: "+9.w)}9.u.2P(9.X,9);9.w=P.1L;9.X.2Z(9)};h.Q=Q;h.A("Q")}(1q);!a(h){e 1x=a(){};r.1Y(1x,g);1x.c.34=a(1d){n.o(1d!==g,"1d v");n.o(C,"I J!")};h.1x=1x;h.A("1x")}(E);!a(h){e 1m=a(M,1N,1O){9.M=M;9.1N=1N;9.1O=1O};r.W(1m,r.Z.1b,g);h.1m=1m;h.A("1m")}(E);!a(h){e 1m=h.1m;e 1n=a(){9.1y={}};r.W(1n,r.Z.1b,g);1n.c.3y=a(1z,M){e 1e=9.1y[M];l(1e){l(1e.1Z(1z)>=0){m}}F{1e=[];9.1y[M]=1e}1e.2g(1z)};1n.c.35=a(1z,M){l(M){e 1e=9.1y[M];l(1e){r.Z.3z.36(1e,1z)}}F{e 2m=1b.3A(9.1y);12(e i=0;i<2m.L;++i){9.35(1z,2m[i])}}};1n.c.3B=a(1d,1N,1O){l(1I 1d==="3C"){1d=R 1m(1d,1N,1O)}e 22=9.1y[1d.M];l(!22){m}12(e i=0;i<22.L;++i){22[i].34(1d)}};e 23=g;1n.3D=a(){l(!23){23=R 1n()}m 23};h.37=1n;h.A("37")}(E);!a(h){e D=a(1f,1g){9.1f=1f;l(1g){9.1s=1g}F{9.1s="2n"}};r.W(D,r.Z.1b,g);D.c.24=a(1o){m 9.1f.24(1o)};D.c.2o=a(1o,38){9.1f.2o(1o,38)};D.c.25=a(1o){9.1f.25(1o)};D.c.39=a(){9.1f.39()};D.c.3E=a(){m 9.1f.L};D.c.1o=a(s){m 9.1f.1o(s)};D.c.2U=a(G){m!!9.24(9.1s+"."+G)};D.c.2p=a(G){m 9.24(9.1s+"."+G)};D.c.3F=a(G){e 1A=9.2p(G);l(!1A){m g}m r.1P.3a.3b(1A)};D.c.3G=a(G){e 1B=9.2p(G);l(!1B){m g}m r.1P.3c.3b(1B)};D.c.36=a(G){9.25(9.1s+"."+G);m 2q};D.c.2r=a(2s,G){l(2s){9.2o(9.1s+"."+G,2s);m 2q}F{9.25(9.1s+"."+G);m C}};D.c.3H=a(b,G){e 1A=g;l(b){1A=r.1P.3a.3d(b)}m 9.2r(1A,G)};D.c.3I=a(2t,G){e 1B=g;l(2t){1B=r.1P.3c.3d(2t)}m 9.2r(1B,G)};h.3e=R D(2u.3J,"2n.3K");h.3f=R D(2u.3L,"2n.3M");h.A("3e");h.A("3f")}(E);!a(h){e O=a(){};r.1Y(O,g);O.c.1t=a(2v,S){n.o(2v!==g,"2v v");n.o(S!==g,"S v");n.o(C,"I J!")};O.c.3g=a(w,S){n.o(w!==g,"w v");n.o(S!==g,"S v");n.o(C,"I J!")};O.c.1Q=a(2w,Y,S){n.o(2w!==g,"2w v");n.o(S!==g,"S v");n.o(C,"I J!")};e P=r.Z.30({1l:-1,26:0,3h:1,2x:2});h.3i=O;h.13=P;h.A("3i");h.A("13")}(E);!a(h){e N=a(){};r.1Y(N,g);N.c.3j=a(){n.o(C,"I J!");m g};N.c.3k=a(1p){n.o(1p!==g,"1p v");n.o(C,"I J!")};N.c.3l=a(){n.o(C,"I J!")};N.c.2k=a(1p){};N.c.2l=a(1p){};N.c.1C=a(2y,u){n.o(2y!==g,"2y v");n.o(u!==g,"u v");n.o(C,"I J!")};h.N=N;h.A("N")}(E);!a(h){e 14=a(b,u){9.b=b;9.u=u;9.S=g};r.W(14,r.Z.1b,g);14.c.3N=a(b){9.u.1t(b)};14.c.3O=a(){9.u.1Q(9.b,g,9.S)};14.c.2z=a(Y){9.u.1Q(9.b,Y,9.S)};h.U.14=14;h.U.A("14")}(E);!a(h){e 14=h.U.14;e 13=h.13;e N=h.N;e x=a(u){9.u=u;9.w=13.26;9.27=[]};r.W(x,g,N);x.c.1t=a(b){9.u.1t(b,9)};x.c.3j=a(){m 9.w};x.c.1D=a(w){l(w.1r(9.w)){m}9.u.3g(w,9);9.w=w};x.c.3m=a(){l(9.27.L===0){m g}m 9.27.3P()};x.c.2A=a(B,q){n.o(B!==g,"B v");n.o(q!==g,"q v");n.o(C,"I J!")};x.c.28=a(){n.o(C,"I J!")};x.c.3n=a(){m 9.w.1r(13.2x)};x.c.29=a(){9.1D(13.2x)};x.c.3o=a(){9.1D(13.26)};x.c.2z=a(Y){9.1D(13.1l)};x.c.1t=a(b){9.u.1t(b,9)};x.c.3k=a(1p){9.28();9.1D(13.3h);e B=1p["B"];e q=1p["q"];9.2A(B,q)};x.c.3l=a(){9.28();9.1D(13.26)};x.c.1C=a(b,u){e 19=R 14(b,u);19.S=9;9.27.2g(19)};h.U.x=x;h.U.A("x")}(E);!a(h){e x=h.U.x;e 1h=a(u){x.1R(9,u);9.K=g};r.W(1h,x,g);1h.c.2A=a(B,q){e 2a="K";l("3Q"===2u.3R.2a.1u(":")[0]){2a="3S"}e 3p=2a+"://"+B+":"+q;e K=R 3T(3p);K.1S=9;K.3U=a(1E){9.1S.29()};K.3V=a(1E){9.1S.3o()};K.3W=a(1E){e Y=R 1l("K Y: "+1E);9.1S.2z(Y)};K.3X=a(1E){9.1S.1t(1E.b)};9.K=K};1h.c.28=a(){l(!9.K){m}9.K.3Y();9.K=g};1h.c.29=a(){x.c.29.1R(9);e 19;3Z(2q){19=9.3m();l(!19){2V}9.K.1C(19.b);l(19.u){19.u.1Q(19.b,g,9)}}};1h.c.1C=a(b,u){l(9.3n()){9.K.1C(b);l(u){u.1Q(b,g,9)}}F{x.c.1C.1R(9,b,u)}};h.U.1h=1h;h.U.A("1h")}(E);!a(h){e H=a(p,q,b){9.p=p;9.q=q;9.b=b};r.W(H,r.Z.1b,g);H.c.1T=a(){n.o(C,"I J!");m g};H.c.1F=a(){m 9.1T()};H.c.40=a(){m 9.1T()};H.c.41=a(3q){e b=9.b;e q=9.q;e 1v=b.L;e z,s;l(!q||q===3q){z=R 2b(1v);12(s=0;s<1v;++s){z[s]=b[s]}}F{z=R 2b(1v+2);12(s=0;s<1v;++s){z[s]=b[s]}z[1v]=q>>8;z[1v+1]=q&2c}m z};h.V.H=H;h.V.A("H")}(E);!a(h){e H=h.V.H;e 1i=a(p,q,b){l(b){l(!p){p=b[0]+"."+b[1]+"."+b[2]+"."+b[3];l(b.L===6){q=(b[4]<<8)|b[5]}}}F{l(p){b=R 2b(4);e z=p.1u(".");12(e s=0;s<4;++s){b[s]=1G(z[s],10)}}F{1k 2B("3r b v: "+b+", "+p+", "+q)}}H.1R(9,p,q,b)};r.W(1i,H,g);1i.c.1T=a(){l(9.q===0){m 9.p}F{m 9.p+":"+9.q}};1i.2d=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;1i.3s=a(B){l(!9.2d.2C(B)){m g}e 2e=B.1u(":");e p=2e[0],q=0;l(2e.L===2){q=1G(2e[1])}m R 1i(p,q)};h.V.1i=1i;h.V.A("1i")}(E);!a(h){e H=h.V.H;e 3t=a(b,z){e T,s=b.42;12(e i=z.L-1;i>=0;--i){T=z[i];b[--s]=T}m b};e 2D=a(b,p,2E){e z,T,s;e 1a=p.1Z("::");l(1a<0){z=p.1u(":");s=-1;12(e i=0;i<2E;++i){T=1G(z[i],16);b[++s]=T>>8;b[++s]=T&2c}}F{e 2F=p.1H(0,1a).1u(":");s=-1;12(e j=0;j<2F.L;++j){T=1G(2F[j],16);b[++s]=T>>8;b[++s]=T&2c}e 2G=p.1H(1a+2).1u(":");s=2E*2;12(e k=2G.L-1;k>=0;--k){T=1G(2G[k],16);b[--s]=T&2c;b[--s]=T>>8}}m b};e 2H=a(2f,1U){l(2f>0){l(1U>=16){m 1V(2f).1F(16)+1V(1U).1F(16)}m 1V(2f).1F(16)+"0"+1V(1U).1F(16)}F{m 1V(1U).1F(16)}};e 15=a(p,q,b){l(b){l(!p){p=2H(b[0],b[1]);12(e s=2;s<16;s+=2){p+=":"+2H(b[s],b[s+1])}p=p.2I(/:(0:){2,}/,"::");p=p.2I(/^(0::)/,"::");p=p.2I(/(::0)$/,"::");l(b.L===18){q=(b[16]<<8)|b[17]}}}F{l(p){b=R 2b(16);e z=p.1u(".");l(z.L===1){b=2D(b,p,8)}F{l(z.L===4){e 1g=z[0];e 1a=1g.43(":");z[0]=1g.1H(1a+1);1g=1g.1H(0,1a);b=2D(b,1g,6);b=3t(b,z)}F{1k 2B("15 1P Y: "+p)}}}F{1k 2B("3r b v: "+b+", "+p+", "+q)}}H.1R(9,p,q,b)};r.W(15,H,g);15.c.1T=a(){l(9.q===0){m 9.p}F{m"["+9.p+"]:"+9.q}};15.2d=/^\\[?([0-2J-2K-f]{0,4}:){2,7}[0-2J-2K-f]{0,4}(]:\\d{1,5})?$/;15.3u=/^\\[?([0-2J-2K-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;15.3s=a(B){l(!9.2d.2C(B)&&!9.3u.2C(B)){m g}e p,q;l(B.44(0)==="["){e 1a=B.1Z("]");p=B.1H(1,1a);q=1G(B.1H(1a+2))}F{p=B;q=0}m R 15(p,q)};h.V.15=15;h.V.A("15")}(E);',62,253,'|||||||||this|function|data|prototype||var||null|ns||||if|return|console|assert|ip|port|DIMP|index|machine|delegate|empty|status|Fence|state|array|register|host|false|Storage|StarGate|else|path|Host|implement|me|ws|length|name|Star|Delegate|Status|Machine|new|star|item|extensions|network|Class|currentState|error|type||State|for|StarStatus|Task|IPv6||||task|pos|Object|transition|notification|list|storage|prefix|SocketClient|IPv4|sg|throw|Error|Notification|Center|key|options|FiniteStateMachine|equals|ROOT|onReceived|split|len|Transition|Observer|observerMap|observer|base64|json|send|setStatus|ev|toString|parseInt|substring|typeof|transitions|Stopped|Running|defaultStateName|sender|userInfo|format|onSent|call|client|valueOf|lo|Number|object|Namespace|Interface|indexOf|changeState|FSM|observers|s_notification_center|getItem|removeItem|Init|waitingList|disconnect|onConnected|protocol|Uint8Array|255|patten|pair|hi|push|tick|Paused|stateMap|pause|resume|names|dim|setItem|loadText|true|saveText|text|container|window|response|request|Connected|payload|onError|connect|URIError|test|parse_v6|count|left|right|hex_encode|replace|9A|Fa|fsm|enterState|exitState|pauseState|resumeState|StateDelegate|targetStateName|target|evaluate|exists|break|onEnter|onExit|onPause|onResume|Enum|isRunning|start|stop|onReceiveNotification|removeObserver|remove|NotificationCenter|value|clear|Base64|decode|JSON|encode|LocalStorage|SessionStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|getTask|isConnected|onClosed|url|default_port|IP|parse|parse_v4|patten_compat|addTransition|default|addState|addObserver|Arrays|keys|postNotification|string|getInstance|getLength|loadData|loadJSON|saveData|saveJSON|localStorage|fs|sessionStorage|mem|onResponse|onSuccess|shift|https|location|wss|WebSocket|onopen|onclose|onerror|onmessage|close|while|toLocaleString|toArray|byteLength|lastIndexOf|charAt'.split('|'),0,{}))
