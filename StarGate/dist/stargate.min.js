/**
 *  DIM-SDK (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Feb. 3, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('j(Q y!=="17"){y={}}j(Q p!=="17"){p={}}j(Q p.u!=="17"){p.u={}}!4(){6 e=4(d){d.18=[];d.q=4(a){3.18.R(a)};d.27=4(a){6 b=3.18;6 c;S(6 i=0;i<b.H;++i){c=b[i];a[c]=3[c]}}};e(y);e(p);e(p.u)}();!4(c){6 d=4(){};d.5.1n=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k");8.9(n,"r s!")};d.5.1o=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k");8.9(n,"r s!")};d.5.1p=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k")};d.5.1q=4(a,b){8.9(a!==7,"T k");8.9(b!==7,"v k")};c.1r=d;c.q("1r")}(y);!4(b){6 c=4(a){3.1s=a};c.5.1t=4(a){8.9(a!==7,"v k");8.9(n,"r s!");l n};b.1u=c;b.q("1u")}(y);!4(c){6 d=4(){3.I=[]};d.5.28=4(a){j(3.I.1v(a)){J x("29 1w: "+a)}3.I.R(a)};d.5.19=4(a){6 b;S(6 i=0;i<3.I.H;++i){b=3.I[i];j(b.1t(a)){a.U(b.1s);1x}}};d.5.1y=4(a){8.9(a!==7,"v k");8.9(n,"r s!")};d.5.1z=4(a){8.9(a!==7,"v k");8.9(n,"r s!")};d.5.1A=4(a){8.9(a!==7,"v k")};d.5.1B=4(a){8.9(a!==7,"v k")};c.1C=d;c.q("1C")}(y);!4(c){6 d=C.1D.1E({K:0,L:1,1a:2});6 e=4(a){3.1F=a?a:"2a";3.t=7;3.1b={};3.m=d.K;3.o=7};e.5.2b=4(a,b){3.1b[b]=a};e.5.U=4(a){6 b=3.t;j(b){3.o.1o(b,3);b.1z(3)}b=3.1b[a];3.t=b;j(b){3.o.1n(b,3);b.1y(3)}};e.5.19=4(){j(3.m.z(d.L)){3.t.19(3)}};e.5.1G=4(){j(!3.m.z(d.K)||3.t){J x("V 1G M: "+3.m)}3.U(3.1F);3.m=d.L};e.5.1H=4(){j(3.m.z(d.K)||!3.t){J x("V 1H M: "+3.m)}3.m=d.K;3.U(7)};e.5.1c=4(){j(!3.m.z(d.L)||!3.t){J x("V 1c M: "+3.m)}3.o.1p(3.t,3);3.m=d.1a;3.t.1A(3)};e.5.1d=4(){j(!3.m.z(d.1a)||!3.t){J x("V 1d M: "+3.m)}3.o.1q(3.t,3);3.m=d.L;3.t.1B(3)};c.1I=e;c.q("1I")}(y);!4(b){6 c=4(){};c.5.1J=4(a){8.9(a!==7,"2c k");8.9(n,"r s!")};b.1K=c;b.q("1K")}(p);!4(d){6 e=4(a,b,c){3.1L=a;3.2d=b;3.2e=c};d.1e=e;d.q("1e")}(p);!4(e){6 f=e.1e;6 g=4(){3.D={}};g.5.2f=4(a,b){6 c=3.D[b];j(c){j(c.1v(a)){l}}W{c=[];3.D[b]=c}c.R(a)};g.5.1M=4(a,b){j(b){6 c=3.D[b];j(c){c.1N(a)}}W{6 d=2g.2h(3.D);S(6 i=0;i<d.H;++i){3.1M(a,d[i])}}};g.5.2i=4(a,b,c){j(Q a==="2j"){a=N f(a,b,c)}6 d=3.D[a.1L];j(!d){l}S(6 i=0;i<d.H;++i){d[i].1J(a)}};6 h=7;g.2k=4(){j(!h){h=N g()}l h};e.1O=g;e.q("1O")}(p);!4(d){6 e={X:"2l.2m",1w:4(a){l!!3.Y(a)},Y:4(a){l 3.Z.2n(3.X+"."+a)},2o:4(a){6 b=3.Y(a);j(!b){l 7}l C.10.1P.1Q(b)},2p:4(a){6 b=3.Y(a);j(!b){l 7}l C.10.1R.1Q(b)},1N:4(a){3.11(7,a);l 1f},11:4(a,b){j(a){3.Z.2q(3.X+"."+b,a);l 1f}W{3.Z.2r(3.X+"."+b);l n}},2s:4(a,b){6 c=7;j(a){c=C.10.1P.1S(a)}l 3.11(c,b)},2t:4(a,b){6 c=7;j(a){c=C.10.1R.1S(a)}l 3.11(c,b)}};e.Z=2u.2v;d.1T=e;d.q("1T")}(p);!4(d){6 e=4(){};e.5.A=4(a,b){8.9(a!==7,"2w k");8.9(b!==7,"B k");8.9(n,"r s!")};e.5.1U=4(a,b){8.9(a!==7,"m k");8.9(b!==7,"B k");8.9(n,"r s!")};e.5.O=4(a,b,c){8.9(a!==7,"2x k");8.9(c!==7,"B k");8.9(n,"r s!")};6 f=C.1D.1E({x:-1,12:0,1V:1,1g:2});d.1W=e;d.1h=f;d.q("1W");d.q("1h")}(p);!4(c){6 d=4(){};d.5.1X=4(){8.9(n,"r s!");l 7};d.5.1Y=4(a){8.9(a!==7,"2y k");8.9(n,"r s!")};d.5.1Z=4(){8.9(n,"r s!")};d.5.1c=4(a){};d.5.1d=4(a){};d.5.E=4(a,b){8.9(a!==7,"2z k");8.9(b!==7,"o k");8.9(n,"r s!")};c.13=d;c.q("13")}(p);!4(c){6 d=c.13;6 e=4(a,b){3.F=a;3.o=b;3.B=7};e.5.2A=4(a){3.o.A(a)};e.5.2B=4(){3.o.O(3.F,7,3.B)};e.5.1i=4(a){3.o.O(3.F,a,3.B)};c.u.1j=e;c.u.q("1j")}(p);!4(d){6 e=d.u.1j;6 f=d.1h;6 g=d.13;6 h=4(a){3.o=a;3.m=f.12;3.14=[]};h.20(g);h.5.A=4(a){3.o.A(a,3)};h.5.1X=4(){l 3.m};h.5.G=4(a){j(a.z(3.m)){l}3.o.1U(a,3);3.m=a};h.5.21=4(){j(3.14.H===0){l 7}l 3.14.2C()};h.5.1k=4(a,b){8.9(a!==7,"22 k");8.9(b!==7,"23 k");8.9(n,"r s!")};h.5.15=4(){8.9(n,"r s!")};h.5.24=4(){l 3.m.z(f.1g)};h.5.16=4(){3.G(f.1g)};h.5.25=4(){3.G(f.12)};h.5.1i=4(a){3.G(f.x)};h.5.A=4(a){3.o.A(a,3)};h.5.1Y=4(a){3.15();3.G(f.1V);6 b=a["22"];6 c=a["23"];3.1k(b,c)};h.5.1Z=4(){3.15();3.G(f.12)};h.5.E=4(a,b){6 c=N e(a,b);c.B=3;3.14.R(c)};d.u.1l=h;d.u.q("1l")}(p);!4(g){6 h=g.u.1l;6 i=4(a){h.1m(3,a);3.w=7};i.20(h);i.5.1k=4(c,d){6 e="w://"+c+":"+d;6 f=N 2D(e);f.P=3;f.2E=4(a){3.P.16()};f.2F=4(a){3.P.25()};f.2G=4(a){6 b=N x("w M: "+a);3.P.1i(b)};f.2H=4(a){3.P.A(a.F)};3.w=f};i.5.15=4(a){j(!3.w){l}3.w.2I();3.w=7};i.5.16=4(){h.5.16.1m(3);6 a;2J(1f){a=3.21();j(!a){1x}3.w.E(a.F);j(a.o){a.o.O(a.F,7,3)}}};i.5.E=4(a,b){j(3.24()){3.w.E(a);j(b){b.O(a,7,3)}}W{h.5.E.1m(3,a,b)}};g.u.26=i;g.u.q("26")}(p);',62,170,'|||this|function|prototype|var|null|console|assert||||||||||if|empty|return|status|false|delegate|StarGate|includes|implement|me|currentState|plugins|machine|ws|Error|FiniteStateMachine|equals|onReceived|star|DIMP|observerMap|send|data|setStatus|length|transitions|throw|Stopped|Running|error|new|onSent|client|typeof|push|for|state|changeState|FSM|else|ROOT|loadText|storage|format|saveText|Init|Star|waitingList|disconnect|onConnected|object|__all__|tick|Paused|stateMap|pause|resume|Notification|true|Connected|StarStatus|onError|Task|connect|Fence|call|enterState|exitState|pauseState|resumeState|StateDelegate|target|evaluate|Transition|contains|exists|break|onEnter|onExit|onPause|onResume|State|type|Enum|defaultStateName|start|stop|Machine|onReceiveNotification|Observer|name|removeObserver|remove|NotificationCenter|Base64|decode|JSON|encode|LocalStorage|onStatusChanged|Connecting|StarDelegate|getStatus|launch|terminate|inherits|getTask|host|port|isConnected|onClosed|SocketClient|exports|addTransition|transition|default|addState|notification|sender|userInfo|addObserver|Object|keys|postNotification|string|getInstance|dim|fs|getItem|loadData|loadJSON|setItem|removeItem|saveData|saveJSON|window|localStorage|response|request|options|payload|onResponse|onSuccess|shift|WebSocket|onopen|onclose|onerror|onmessage|close|while'.split('|'),0,{}))
